<?xml version="1.0" encoding="UTF-8"?>
<mappings>
   <domain code="LAB" name="Laboratory">
      <element name="Study ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/@ID"/>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().partOf.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Study Name">
         <cdisc spec="LAB" label="/GTP/Study/@Name"/>
         <mapping resource="ResearchStudy" path="title">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve()partOf.resolve().title"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().title"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Transmission Type">
         <cdisc spec="LAB" label="/GTP/Study/@TransmissionType"/>
         <gap>Determine from type of call to service (requesting all data vs incremental data - e.g. filtering by _lastUpdated).  NOTE: If data are not persisted between FHIR and LAB, cannot do incremental data processing (due to lack of delta detection).</gap>
         <comment>If the data is being 'pushed' in a message, this could also be conveyed in the MessageHeader.event</comment>
      </element>
      <element name="Study Transaction Type">
         <cdisc spec="LAB" label="/GTP/Study/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>This would be conveyed using a transaction Bundle - specifically the Bundle.entry.request.method</comment>
      </element>
      <element name="Site ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/Site/@ID"/>
         <mapping resource="ResearchStudy" path="site">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Site Transaction Type">
         <cdisc spec="LAB" label="/GTP/Study/Site/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>As per study transaction type (not clear why it happens at both levels - what would it mean to 'delete' at the study level and 'update at the site level?)</comment>
      </element>
      <element name="Investigator ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/@ID"/>
         <mapping resource="Practitioner" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().principleInvestigator.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().principleInvestigator.resolve().identifier.value"/>
         </mapping>
         <comment>Will need to decide which id to expose or may need to map to one recognized by the sponsor.  If you want the PI for the overall study rather than just for the site associated with the Observation, you'll need to traverse the partOf.resolve() from the study-specific ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Investigator Name">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/@Name"/>
         <mapping resource="Practitioner" path="name">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().principleInvestigator.resolve().name.text"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().principleInvestigator.resolve().name.text"/>
         </mapping>
         <comment>Will need to decide which name to expose if there are multiples.  Can also extract the prefix, given and family names if text isn't specified.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Investigator Transaction Type">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>As per study transaction type (not clear why it happens at both levels - what would it mean to 'delete' at the study level and 'update at the site level?)</comment>
      </element>
      <element name="Screen ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/ScreenID"/>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the Observation.  Use the identifier.type to differentiate subject identifiers.<br/>
            <br/>No standard way to decide which subject identifier to use.  Also no standard way to differentiate subject id from screening id from spare subject id.</comment>
      </element>
      <element name="Subject ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/SubjectID"/>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the Observation.  Use the identifier.type to differentiate subject identifiers.<br/>
            <br/>No standard way to decide which subject identifier to use.  Also no standard way to differentiate subject id from screening id from spare subject id.</comment>
      </element>
      <element name="Spare subject level ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/SpareSubjectID"/>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the Observation.  Use the identifier.type to differentiate subject identifiers.<br/>
            <br/>No standard way to decide which subject identifier to use.  Also no standard way to differentiate subject id from screening id from spare subject id.</comment>
      </element>
      <element name="Subject Sex">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/Sex/@Value"/>
         <mapping resource="Patient" path="gender">
            <path value="Observation.subject.resolve().gender"/>
         </mapping>
         <comment>Consider whether patient personal information is required for sponsor to perform patient reconciliation.  If not, do not send this data element.  The US-core birth-sex extension (if it is present) may be more consistently populated than Patient.gender.<br/>
            <br/>If patient gender is sent, the values must be mapped from the FHIR vocabulary to the LAB standard:
male -&gt; M
female -&gt; F
other -&gt; U
unknown -&gt; U</comment>
      </element>
      <element name="Subject Sex Code List ID">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/Sex/@CodeListID"/>
         <gap>For FHIR, the administrative gender code list is fixed, so no need to send it in the instance.  If there's a need to convey alternate gender codes, then those would appear either as Observation values or as extension values on Patient (the former for clinical information, the latter for administrative purposes).  In either event, the code would be in CodeableConcept.coding which allows identifying both the code system and (if relevant), the version</gap>
      </element>
      <element name="Subject Race">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/Race/@Value"/>
         <gap>There's an US-core extension (us-core-race) for capturing this in the U.S. and the possibility that other countries will define their own extensions.  Note that this is for administrative, not clinical purposes.  Genetic heritage would typically be captured as an Observation</gap>
         <comment>Consider whether patient personal information is required for the sponsor to perform patient reconciliation.  If not, do not send this data element.  <br/>
            <br/>If patient race is sent, use the us-core-race extension in FHIR.</comment>
      </element>
      <element name="Subject Race Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Race/@CodeListID"/>
         <gap>Race, whether captured as an extension or observation value is generally a CodeableConcept allowing capturing both code system and (if relevant) version.  Race is highly variable from country to country (both whether it's allowed and how it's coded), so there's no standard element for this in the core spec.</gap>
      </element>
      <element name="Subject Initials">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Confidential/@Initials"/>
         <mapping resource="Patient" path="name">
            <path value="ResearchSubject.where(subject=Observation.subject).individual.resolve().name.text"/>
         </mapping>
         <gap>Consider whether patient personal information is required for the sponsor to perform patient reconciliation.  If not, do not send this data element.  <br/>
            <br/>If required, be sure to send only the initials, derived from the name.</gap>
         <comment>Note that name.text will typically contain the full name, but *can* contain initials only.  If the full name is present, initials can be extracted by looking at the given and family name components and converting to initials</comment>
      </element>
      <element name="Subject Date Of Birth">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Confidential/@Birthdate"/>
         <mapping resource="Patient" path="birthDate">
            <path value="ResearchSubject.where(subject=Observation.subject).individual.resolve().birthDate"/>
         </mapping>
         <gap>Consider whether patient personal information is required for the sponsor to perform patient reconciliation.  If not, do not send this data element.</gap>
         <comment>Note that precision can vary (YYYY, YYYY-MM or YYYY-MM-DD)</comment>
      </element>
      <element name="Visit ID or Number">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/Visit/@ID"/>
         <mapping resource="Encounter" path="identifier">
            <path value="Observation.encounter.resolve().identifier.value"/>
         </mapping>
         <comment>No standard way to decide which identifier to use if multiples are present</comment>
      </element>
      <element name="Visit Name">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/Visit/@Name"/>
         <gap>In practice, visit name would be the ActivityDefinition.title for the activity in the protocol associated with the encounter.  There is no standard extension for this link (though one will be defined).  Most clinical systems won't actually capture this, so the determination will need to be made at time of data extraction based on the protocol</gap>
         <comment>See LB mapping comment</comment>
      </element>
      <element name="Visit Type">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/Visit/@Type"/>
         <gap>This is essentially whether the visit is tied to a particular activity within the PlanDefinition (study protocol) or not.  Given that in non-study-specific systems, there won't typically be a linkage even when the encounter *is* driven by the study, this will generally need to be populated algorithmically on extension</gap>
         <comment>This could theoretically be distinguished by whether there was a link to a CarePlan activity or ActivityDefinition.  Alternatively, you could use an extension or tag.  (What's 'planned' for one study might be unplanned for another)<br/>
            <br/>This would be Encounter.reasonCode
</comment>
      </element>
      <element name="Visit Type Modifier">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/@TypeModifier"/>
         <mapping resource="Encounter" path="reasonCode">
            <path value="Observation.encounter.resolve().reasonCode"/>
         </mapping>
         <comment>This would be Encounter.reasonCode</comment>
      </element>
      <element name="Subject Transaction Type">
         <cdisc spec="LAB" label="/GTP/Study/Site/Investigator/Subject/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>As per study transaction type (not clear why it happens at both levels - what would it mean to 'delete' at the study level and 'update at the site level?)</comment>
      </element>
      <element name="Accession ID or Number">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/@ID"/>
         <mapping resource="Specimen" path="accessionIdentifier">
            <path value="Observation.resolve().accessionIdentifier.value"/>
         </mapping>
      </element>
      <element name="Last Active Date and Time">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/@LastActiveDateTime"/>
         <gap>FHIR allows capture meta.lastUpdated which reflects when the data last changed on the server in question, but would need to look at Provenance to see when data last changed on a particular system.  This typically won't be available.</gap>
      </element>
      <element name="Visit Transaction Type">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>As per study transaction type (not clear why it happens at both levels - what would it mean to 'delete' at the study level and 'update at the site level?)</comment>
      </element>
      <element name="Central Laboratory ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/CentralLab/@ID"/>
         <mapping resource="Organization" path="identifier">
            <path value="Observation.performer.resolve().identifier.value"/>
         </mapping>
         <comment>Will need to look at identifier.type or identifier.system to know which identifier to use.  In some cases, performer might be PractitionerRole, in which case, will need to map through PractitionerRole.organization.  If there are multiple performers that link to multiple organizations, converter will need to look at Organization.type or have other rules to decide amongst the candidates.</comment>
      </element>
      <element name="Central Laboratory Name">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/CentralLab/@Name"/>
         <mapping resource="Organization" path="name">
            <path value="Observation.performer.resolve().name"/>
         </mapping>
         <comment>If there are multiple performers that link to multiple organizations, converter will need to look at Organization.type or have other rules to decide amongst the candidates.</comment>
      </element>
      <element name="Specimen ID or Number">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/@ID"/>
         <mapping resource="Specimen" path="identifier">
            <path value="Observation.specimen.resolve().identifier.value"/>
         </mapping>
         <comment>If there are multiple identifiers, need to look at identifier.system or identifier.type to determine</comment>
      </element>
      <element name="Actual Collection Date and Time">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenCollection/@ActualCollectionDateTime"/>
         <mapping resource="Specimen" path="collection.collectedDateTime">
            <path value="Observation.specimen.resolve().collection.collectedDateTime"/>
         </mapping>
         <mapping resource="Specimen" path="collection.collectedPeriod">
            <path value="Observation.specimen.resolve().collection.collectedPeriod.end"/>
         </mapping>
         <comment>Most of the time there'll only be a single dateTime.  If collected over a period of time (e.g. urine), use the end.</comment>
      </element>
      <element name="Planned Collection Time Elapsed">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenCollection/@PlannedCollectionTimeElapsed"/>
         <mapping resource="Specimen" path="extension">
            <path value="Observation.specimen.resolve().extension(cqf-relativeDateTime).valueDuration"/>
         </mapping>
         <comment>Will need to convert value + units into an ISO duration</comment>
      </element>
      <element name="Planned Collection Time Elapsed Description">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenCollection/@PlannedCollectionTimeElapsedDescription"/>
         <mapping resource="Specimen" path="extension">
            <path value="Observation.specimen.resolve().extension(cqf-relativeDateTime).valueReference.reference"/>
         </mapping>
         <comment>The event would be in extension('target').valueReference.display and the time would be in extension('offset').valueDuration value and unit.</comment>
      </element>
      <element name="Collection End Date and Time">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenCollection/@CollectionEndDateTime"/>
         <mapping resource="Specimen" path="collection.collectedPeriod">
            <path value="Observation.specimen.resolve().collection.collectedPeriod.end"/>
         </mapping>
      </element>
      <element name="Received Date and Time">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenTransport/@ReceivedDateTime"/>
         <mapping resource="Specimen" path="receivedTime">
            <path value="Observation.specimen.resolve().receivedTime"/>
         </mapping>
      </element>
      <element name="Specimen Condition">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenTransport/@SpecimenCondition"/>
         <mapping resource="Specimen" path="condition">
            <path value="Observation.specimen.resolve().condition.coding.code"/>
         </mapping>
         <comment>Will need to choose which coding to extract the code for</comment>
      </element>
      <element name="Investigator - Specimen Comment Source">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenComment/@Source"/>
         <mapping resource="Practitioner" path="identifier">
            <path value="Observation.specimen.resolve().note.author.resolve().where($thisisPractitioner).identifier"/>
         </mapping>
         <comment>Note that practitioners can have multiple identifiers - use type or system to decide which identifier to expose</comment>
      </element>
      <element name="Investigator - Specimen Comment Text">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenComment/@Text"/>
         <mapping resource="Specimen" path="note">
            <path value="Observation.specimen.resolve().where($author.resolve()isPractitioner).note.text"/>
         </mapping>
      </element>
      <element name="Lab - Specimen Comment Source">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenComment/@Source"/>
         <mapping resource="Observation" path="identifier">
            <path value="Observation.specimen.resolve().note.author.resolve().where($thisisOrganization).identifier"/>
         </mapping>
         <comment>Note that organizations can have multiple identifiers - use type or system to decide which identifier to expose</comment>
      </element>
      <element name="Lab - Specimen Comment Text">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenComment/@Text"/>
         <mapping resource="Specimen" path="note">
            <path value="Observation.specimen.resolve().where($author.resolve() isOrganization).note.text"/>
         </mapping>
      </element>
      <element name="Specimen Material ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenMaterial/@ID"/>
         <mapping resource="Specimen" path="type">
            <path value="Observation.specimen.resolve().where($author.resolve() isOrganization).type.coding.code"/>
         </mapping>
         <comment>If multiple codes are present, filter based on system</comment>
      </element>
      <element name="Specimen Material Name">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenMaterial/@Name"/>
         <mapping resource="Specimen" path="type">
            <path value="Observation.specimen.resolve().where($author.resolve() isOrganization).type.coding.display"/>
         </mapping>
         <comment>If multiple codes are present, filter based on system.   Translation may be required</comment>
      </element>
      <element name="Specimen Material Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SpecimenMaterial/@CodeListID"/>
         <mapping resource="Specimen" path="type">
            <path value="Observation.specimen.resolve().where($author.resolve() isOrganization).type.coding.system"/>
         </mapping>
         <comment>If multiple codings are present, will need to decide which to use</comment>
      </element>
      <element name="Subject Age at Collection">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SubjectAtCollection/@AgeAtCollection"/>
         <gap>If captured as an Observation, this would be in the ValueQuantity.code derived from the patient.birthDate(Observation.subject (ref:Patient.birthDate).<br/>
            <br/>If the full birthdate cannot be shared, due to country restrictions, use the birth year to derive age information.  Due to lost accuracy in having only the year of birth, 'years' would be the default unit.   As an alternative use the cqf-relativeTime extension on Patient.birthDate and convey as a relative time to study enrollment</gap>
      </element>
      <element name="Subject Age Units">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SubjectAtCollection/@AgeUnits"/>
         <gap>If captured as an Observation, this would be in the ValueQuantity.code derived from the patient.birthDate(Observation.subject (ref:Patient.birthDate).<br/>
            <br/>If the full birthdate cannot be shared, due to country restrictions, use the birth year to derive age information.  Due to lost accuracy in having only the year of birth, 'years' would be the default unit.</gap>
      </element>
      <element name="Fasting Status">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/SubjectAtCollection/@FastingStatus"/>
         <mapping resource="Specimen" path="collection.fastingStatusCodeableConcept">
            <path value="Observation.specimen.resolve().collection.fastingStatusCodeableConcept.coding.code"/>
         </mapping>
         <comment>FHIR to CDISC mapping as follows:
F -&gt; Y; NF -&gt; N; FNA -&gt; N/A; NG -&gt; Not Applicable (blank)<br/>
            <br/>If fastingStatusDuration is present and non-zero, that would also map to 'Y'.  There are times where this can be inferred from the Observation.code.</comment>
      </element>
      <element name="Battery ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/@ID"/>
         <mapping resource="DiagnosticReport" path="identifier">
            <path value="DiagnosticReport.identifier.value"/>
         </mapping>
      </element>
      <element name="Battery Name">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/@Name"/>
         <mapping resource="DiagnosticReport" path="code">
            <path value="DiagnosticReport.code.text"/>
         </mapping>
      </element>
      <element name="Battery Transaction Type">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>As per study transaction type (not clear why it happens at both levels - what would it mean to 'delete' at the study level and 'update at the site level?)</comment>
      </element>
      <element name="Test Status">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/@Status"/>
         <mapping resource="ServiceRequest" path="doNotPerform">
            <path value="Observation.basedOn.resolve().doNotPerform"/>
         </mapping>
         <mapping resource="ServiceRequest" path="status">
            <path value="Observation.basedon.resolve().status"/>
         </mapping>
         <comment>Multiple fields are required to populate this value per the standard.  <br/>
            <br/>Use ServiceRequest.status and ServiceRequest.doNotPerform (doNotPerform will only be true if the test is not to be performed) to represent the test status.   From these two fields, sponsors will need to translate to the CDISC test statuses:  
D - Done
N - Not Performed
X - Cancelled.</comment>
      </element>
      <element name="Testing Date and Time">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/@TestingDateTime"/>
         <mapping resource="Observation" path="effectiveDateTime">
            <path value="Observation.effectiveDateTime"/>
         </mapping>
      </element>
      <element name="Test Type">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/@TestType"/>
         <gap>The normal transmission of data, via FHIR, is for study tests.  If non-study test results are required (e.g., AdverseEvent follow-up), these would be obtained via a special request from the data provider.  Alternatively, if the system requires this field to be populated, derive whether the test was for the study or not, use the ServiceRequest resource.</gap>
         <comment>Differentiation would be whether the Observation was basedOn a particular activity in the CarePlan (scheduled) or tied to a particular ActivityDefinition (Study test)</comment>
      </element>
      <element name="Performing Laboratory ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/PerformingLab/@ID"/>
         <mapping resource="Organization" path="identifier">
            <path value="Observation.performer.resolve().identifier"/>
         </mapping>
         <comment>Use "Organization/type" to pick the type of Organization that represents "Performing Lab"</comment>
      </element>
      <element name="Performing Laboratory Name">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/PerformingLab/@Name"/>
         <mapping resource="Organization" path="name">
            <path value="Observation.performer.resolve().name"/>
         </mapping>
      </element>
      <element name="Lab Test ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/LabTest/@ID"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system = 'Lab Test')"/>
         </mapping>
         <comment>Since this is a codeable concept, there may be  multiple codes for a test.  The sponsor will have to determine which is the "lab's" code vs. "receiver's" code vs. others.</comment>
      </element>
      <element name="Lab Test Name">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/LabTest/@Name"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.display"/>
         </mapping>
      </element>
      <element name="Additional Test Description">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/LabTest/@AdditionalDescription"/>
         <mapping resource="Observation" path="note">
            <path value="Observation.note.text"/>
         </mapping>
         <comment>Not all notes will necessarily be appropriate to map here.  Would need to decide whether to also bring across authors and dates and would need to combined multiple repetitions into a single string.</comment>
      </element>
      <element name="Receiver Test ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/ReceiverTest/@ID"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where (system = [Recipient Test])"/>
         </mapping>
         <comment>Observation/code/coding/system/@value ("system" element used to designate the type of code that is being represented (in this case the "ReceiverTest") by the "code" element)</comment>
      </element>
      <element name="Receiver Test Name">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/ReceiverTest/@Name"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.display where (coding system = 'Recipient Test')"/>
         </mapping>
      </element>
      <element name="LOINC Code">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/LOINCTestCode/@Value"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where (coding system = 'http://loinc.org')"/>
         </mapping>
      </element>
      <element name="LOINC Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/LOINCTestCode/@CodeListID"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system = 'http://loinc.org')"/>
         </mapping>
         <comment>This will always be 'LOINC'</comment>
      </element>
      <element name="Test Level Comments">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/TestLevelComment"/>
         <mapping resource="Observation" path="extension">
            <path value="Observation.note.text"/>
         </mapping>
         <comment>Will need to determine whether to also incude date and author.</comment>
      </element>
      <element name="Reported Result Status">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/@ReportedResultStatus"/>
         <mapping resource="Observation" path="status">
            <path value="Observation.status"/>
         </mapping>
         <comment>This has two possible values:  P for Preliminary and F for Final.</comment>
      </element>
      <element name="Alert Flag">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/@AlertFlag"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.coding.where(system='Alert Flag')"/>
         </mapping>
         <comment>The alert flag generated by the reference ranges applied and tied to the reported result. There are 9 alert flag values:<br/>
            <br/>LP - Low Panic
LT - Low Telephone
LN - Low Normal
N - Normal
HN - High Normal
HT - High Telephone
HP - High Panic
AB - Abnormal
and blank when not used. It may be necessary to translate from other interpretation codings. </comment>
      </element>
      <element name="Delta Flag">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/@DeltaFlag"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.coding.where (system = 'Delta Flag')"/>
         </mapping>
         <comment>The delta flag generated by the reference ranges applied and tied to the reported result. There are three delta flags:<br/>
            <br/>D+  for an increase in value
D-  for a decrease in value
and blank for no flag.   It may be necessary to translate from other interpretation codings.</comment>
      </element>
      <element name="Exclusion Flag">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/@ExclusionFlag"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.coding.where (system = 'Exclusion Flag')"/>
         </mapping>
         <comment>The exclusion flag generated by the reference ranges applied and tied to the reported result. There are four exclusion flag values:<br/>
            <br/>LX - Low Exclusion
HX - High Exclusion
EX - Excluded (for exclusions not falling under high or low)
and blank for no flag.   It may be necessary to translate from other</comment>
      </element>
      <element name="Blinding Flag">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/@BlindingFlag"/>
         <mapping resource="Observation" path="meta">
            <path value="Observation.meta.security.code"/>
         </mapping>
         <comment>A new code would likely be needed to specifically designate 'blinded'.</comment>
      </element>
      <element name="Reported Date and Time">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/@ReportedDateTime"/>
         <mapping resource="Observation" path="issued">
            <path value="Observation.issued"/>
         </mapping>
      </element>
      <element name="Test Transaction Type">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/TransactionType"/>
         <gap>Determining whether transactions are insert or update is a task for the data consumer.  (NOTE: This requires persistent storage to compare current data with data in the incoming file)</gap>
         <comment>As per study transaction type (not clear why it happens at both levels - what would it mean to 'delete' at the study level and 'update at the site level?)</comment>
      </element>
      <element name="Toxicity Grade">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/ToxicityGrade/@Value"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.coding.where (system = 'Toxicity Grade').code"/>
         </mapping>
         <comment>If there are multiple possible systems, the sponsor will have to determine which interpretation corresponds to toxicity grade</comment>
      </element>
      <element name="Toxicity Grade Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/ToxicityGrade/@CodeListID"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.coding.where (system = 'Toxicity Grade')"/>
         </mapping>
         <gap>May need to translate the URI to a CDISC Code List id</gap>
      </element>
      <element name="Reported Result Type (C=coded; N=numeric; T=text; R=range; G = GT; L = LT)">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/@ResultType"/>
         <gap>Determine from the field in which the result resides.   valueCodeableConcept vs. valueQuantity vs. valueString  Greater than and less than can be determined by valueQuantity.qualifier</gap>
      </element>
      <element name="Text Result">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/TextResult/@Value"/>
         <mapping resource="Observation" path="valueCodeableConcept">
            <path value="Observation.valueCodeableConcept.text"/>
         </mapping>
      </element>
      <element name="Text Result Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/TextResult/@CodeListID"/>
         <mapping resource="Observation" path="valueCodeableConcept">
            <path value="Observation.valueCodeableConcept.coding.system"/>
         </mapping>
         <comment>May need to convert from URI to CDISC-recognized 'ID'</comment>
      </element>
      <element name="Conventional Numeric Result">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/NumericResult/@Value"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
         <comment>If the reported result isn't in conventional units, can use the PQ-translation extension to convey a translation.</comment>
      </element>
      <element name="Reported Numeric Result">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/NumericResult/@Value"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
      </element>
      <element name="SI Numeric Result">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/NumericResult/@Value"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
         <comment>If the reported result isn't in SI units, can use the PQ-translation extension to convey a translation.</comment>
      </element>
      <element name="Conventional Numeric Result Precision">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/NumericResult/@Precision"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
         <comment>Determine the precision from the value.<br/>
            <br/>Precision is implicitly determined from the attribute 
Observation/valueQuantity/value/@value   If the reported result isn't in conventional units, can use the PQ-translation extension to convey a translation.</comment>
      </element>
      <element name="Reported Numeric Result Precision">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/NumericResult/@Precision"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
         <comment>Determine the precision from the value.<br/>
            <br/>Precision is implicitly determined from the attribute 
Observation/valueQuantity/value/@value</comment>
      </element>
      <element name="SI Numeric Result Precision">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/NumericResult/@Precision"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
         <comment>Determine the precision from the value.<br/>
            <br/>Precision is implicitly determined from the attribute 
Observation/valueQuantity/value/@value   If the reported result isn't in SI units, can use the PQ-translation extension to convey a translation.</comment>
      </element>
      <element name="Conventional Reference Range Low">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultReferenceRange/@ReferenceRangeLow"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.low.value"/>
            <path value="Observation.referenceRange.low.unit"/>
         </mapping>
         <comment>Will need to combine value and unit into a string.  If the reported units aren't 'conventional, can use the PQ-translation extension on Quantity to convey a translation.</comment>
      </element>
      <element name="Reported Reference Range Low">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultReferenceRange/@ReferenceRangeLow"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.low.value"/>
            <path value="Observation.referenceRange.low.unit"/>
         </mapping>
         <comment>Will need to combine value and unit into a string.</comment>
      </element>
      <element name="SI Reference Range Low">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultReferenceRange/@ReferenceRangeLow"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.low.value"/>
            <path value="Observation.referenceRange.low.unit"/>
         </mapping>
         <comment>Will need to combine value and unit into a string.  If the reported units aren't SI, can use the PQ-translation extension on Quantity to convey a translation.</comment>
      </element>
      <element name="Conventional Reference Range High">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultReferenceRange/@ReferenceRangeHigh"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.high.value"/>
            <path value="Observation.referenceRange.high.unit"/>
         </mapping>
         <comment>Will need to combine value and unit into a string.  If the reported units aren't 'conventional, can use the PQ-translation extension on Quantity to convey a translation.</comment>
      </element>
      <element name="Reported Reference Range High">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultReferenceRange/@ReferenceRangeHigh"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.high.value"/>
            <path value="Observation.referenceRange.high.unit"/>
         </mapping>
         <comment>Will need to combine value and unit into a string.</comment>
      </element>
      <element name="SI Reference Range High">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultReferenceRange/@ReferenceRangeHigh"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.high.value"/>
            <path value="Observation.referenceRange.high.unit"/>
         </mapping>
         <comment>Will need to combine value and unit into a string.  If the reported units aren't SI, can use the PQ-translation extension on Quantity to convey a translation.</comment>
      </element>
      <element name="Conventional Units">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultUnits/@Value"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.code"/>
            <path value="Observation.valueQuantity.extension('PQ-translation').code"/>
         </mapping>
         <comment>If the reported units are not the same as conventional, can convey with the translation extension.  Translation to CDISC terminology may be required.</comment>
      </element>
      <element name="Reported Units">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultUnits/@Value"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.code"/>
         </mapping>
         <comment>This may require translation to CDISC terminology</comment>
      </element>
      <element name="SI Units">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultUnits/@Value"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.code"/>
            <path value="Observation.valueQuantity.extensoin('PQ-translation').code"/>
         </mapping>
         <comment>If the reported units are not SI units, can convey with the translation extension.  Translation to CDISC terminology may be required.</comment>
      </element>
      <element name="Conventional Units Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultUnits/@CodeListID"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.system"/>
         </mapping>
      </element>
      <element name="Reported Units Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultUnits/@CodeListID"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.system"/>
         </mapping>
      </element>
      <element name="SI Units Code List ID">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultUnits/@CodeListID"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.system"/>
         </mapping>
      </element>
      <element name="Record Extension Type">
         <cdisc spec="LAB" label=""/>
         <gap>Populate with a default value, depending on the type of data being transmitted.<br/>
            <br/>E.g., "BASE"</gap>
      </element>
      <element name="Result Class">
         <cdisc spec="LAB"
                label="/GTP/Study/Site/Investigator/Subject/Visit/Accession/BaseSpecimen/BaseBattery/BaseTest/BaseResult/SingleResult/ResultClass/@Value"/>
         <gap>In FHIR, the value will always be 'reported', with the ability to convey translations in an extension.  Nothing will differentiate whether a translation is considered 'conventional' or not, so if there are multiple translations present and the receiver can't figure it out by looking, an additional extension may be necessary to differentiate. This can sometimes also be inferred from the Observation.code.</gap>
      </element>
      <element name="Model Version">
         <cdisc spec="LAB" label="/GTP/@ModelVersion"/>
         <gap>Populate with a default value.</gap>
         <comment>The version of FHIR in use is conveyed using Resource.meta.profile</comment>
      </element>
      <element name="File Creation Date and Time">
         <cdisc spec="LAB" label="/GTP/@CreationDateTime"/>
         <gap>Pull from the message wrapper. (file creation date)</gap>
         <comment>Bundle.timestamp</comment>
      </element>
      <element name="Transaction Type">
         <cdisc spec="LAB" label="/GTP/TransactionType"/>
         <gap>No mitigation.  If required, fill with a default value.</gap>
         <comment>As per study.transaction</comment>
      </element>
      <element name="Transmission Source ID">
         <cdisc spec="LAB" label="/GTP/TransmissionSource/@ID"/>
         <gap>Pull from the message wrapper.</gap>
         <comment>MessageHeader.source.endpoint if using messaging, otherwise determined out of band based on sender authentication process</comment>
      </element>
      <element name="Transmission Source Name">
         <cdisc spec="LAB" label="/GTP/TransmissionSource/@Name"/>
         <gap>Pull from the message wrapper.</gap>
         <comment>MessageHeader.source.name if using messaging, otherwise determined out of band based on sender authentication process</comment>
      </element>
   </domain>
   <domain code="LB" name="Laboratory2">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="DM.STUDYID"/>
         <cdisc spec="SDTM" label="DM.STUDYID"/>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().partOf.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.   ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="DM.SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID"/>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.    ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Investigator Identifier">
         <cdisc spec="SDTM" label="DM.INVID"/>
         <mapping resource="Practitioner" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().principleInvestigator.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().principleInvestigator.resolve().identifier.value"/>
         </mapping>
         <comment>Will need to decide which id to expose.  If you want the PI for the overall study rather than just for the site associated with the Observation, you'll need to traverse the partOf.resolve() from the study-specific ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="DM.SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID"/>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=Observation.subject).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the Observation.<br/>
            <br/>No standard way to decide which subject identifier to use</comment>
      </element>
      <element name="Visit Number">
         <cdisc spec="CDASH" label="VISITNUM"/>
         <cdisc spec="SDTM" label="VISITNUM"/>
         <mapping resource="Encounter" path="identifier">
            <path value="Observation.encounter.resolve().identifier"/>
         </mapping>
         <comment>This won't necessarily correlate with the protocol-defined visit number.  Correspondance to a protocol-defined visit will typically require rules-based analysis based on time, encounter type and other factors.</comment>
      </element>
      <element name="Visit Name">
         <cdisc spec="CDASH" label="VISIT"/>
         <cdisc spec="SDTM" label="VISIT"/>
         <mapping resource="ActivityDefinition" path="name">
            <path value="Observation.encounter.resolve().extension(workflow-instantiates).valueCanonical.resolve().title"/>
         </mapping>
         <comment>In most cases, real world data won't have a direct association to a study protocol activity and the link would need to be inferred.  However, if it exists, it would map as follows:<br/>
            <br/>We could go through Encounter.basedOn-&gt; ServiceRequest.instantiatesCanonical, you arrive at ActivityDefinition.   Encounter should have a standard instantiatesCanonical extension that would allow pointing to the ActivityDefinition.  This would be the ActivityDefinition.name.  Submit a change request to add the extension</comment>
      </element>
      <element name="Lab Specimen ID">
         <cdisc spec="CDASH" label="LBREFID"/>
         <cdisc spec="SDTM" label="LBREFID"/>
         <mapping resource="Specimen" path="accessionIdentifier">
            <path value="Observation.specimen.resolve().accessionIdentifier.value"/>
         </mapping>
         <comment>As reported from the Site</comment>
      </element>
      <element name="Date/Time of Specimen Collection">
         <cdisc spec="SDTM" label="LBDTC"/>
         <mapping resource="Specimen" path="collection.collectedDateTime">
            <path value="Observation.specimen.resolve().collection.collectedDateTime"/>
         </mapping>
         <mapping resource="Specimen" path="collection.collectedPeriod">
            <path value="Observation.specimen.resolve().collection.collectedPeriod.start"/>
         </mapping>
         <comment>NOTE: no mapping included for CDASH LBDAT and LBTIM
To map directly, the data must be formatted in ISO 8601 date/time format (e.g., 2015-02-07T13:28:17-05:00)</comment>
      </element>
      <element name="End Date/Time of Specimen Collection">
         <cdisc spec="SDTM" label="LBENDTC"/>
         <mapping resource="Specimen" path="collection.collectedPeriod">
            <path value="Observation.specimen.resolve().collection.collectedPeriod.end"/>
         </mapping>
         <comment>NOTE: No mapping included for CDASH LBENDAT and LBENTIM)<br/>
            <br/>To map directly, the data must be formatted in ISO 8601 date/time format (e.g., 2015-02-07T13:28:17-05:00)</comment>
      </element>
      <element name="Specimen Collection Duration (for Clinical Research with extended time of collection)">
         <cdisc spec="CDASH" label="LBCDUR"/>
         <cdisc spec="SDTM" label="LBDUR*"/>
         <mapping resource="Specimen" path="collection.collectedPeriod">
            <path value="Observation.specimen.resolve().collection.collectedPeriod"/>
         </mapping>
         <comment>Will need to convert value and unit to ISO syntax.  E.g. 90 min would convert to PT1H30M</comment>
      </element>
      <element name="Specimen Planned Time Point Name (Planned Collection Time Point - time within Encounter)">
         <cdisc spec="CDASH" label="LBCTPT"/>
         <cdisc spec="SDTM" label="LBTPT"/>
         <mapping resource="Specimen" path="extension">
            <path value="Observation.specimen.resolve().extension(cqf-relativeDateTime).extension('reference').valueReference.reference.resolve().title"/>
         </mapping>
         <comment>Typically named timepoints won't exist in real-world data and the timing point name will need to be assigned by the sponsor.  However, this shows where the data would be expressed in FHIR if it was present there.</comment>
      </element>
      <element name="Specimen Planned Elapsed Time from Time Point Reference">
         <cdisc spec="CDASH" label="LBCELTM"/>
         <cdisc spec="SDTM" label="LBELTM"/>
         <mapping resource="Specimen" path="extension">
            <path value="Observation.specimen.resolve().extension(cqf-relativeDateTime).extension('offset').valueDuration"/>
         </mapping>
         <comment>Typically named timepoints won't exist in real-world data and the timing point offset will need to be calculated by the sponsor.  However, this shows where the data would be expressed in FHIR if it was present there.  If present, would need to translate to ISO-8601</comment>
      </element>
      <element name="Specimen Condition">
         <cdisc spec="CDASH" label="LBCSPCCN"/>
         <cdisc spec="SDTM" label="LBSPCCND"/>
         <mapping resource="Specimen" path="condition">
            <path value="Observation.specimen.resolve().condition.coding.code"/>
         </mapping>
         <comment>Recommend submitting change proposals to extend the FHIR vocabulary to include CDISC values.  Sponsor will need to decide how to map when FHIR terminology contains codes not present in CDISC.<br/>
            <br/>NOTE: requires an extension to the FHIR vocabulary to include CDISC values (e.g., Refrigerated).  An "as collected" version of the SDTM variable is recommended to allow the sponsor to make adjustments to ensure terminology compliance while mapping to SDTM.</comment>
      </element>
      <element name="Specimen Type">
         <cdisc spec="CDASH" label="LBCSPEC"/>
         <cdisc spec="SDTM" label="LBSPEC"/>
         <mapping resource="Specimen" path="type">
            <path value="Observation.specimen.resolve().type.coding.display"/>
         </mapping>
         <comment>NOTE: In some cases, this may be inferred from the LOINC.<br/>
            <br/>FHIR terminology is not standardized.  Sponsor will need to map to CDISC terminology if raw data does not use CDISC codes.  An "as collected" version of the SDTM variable is recommended to allow the sponsor to make adjustments to ensure terminology compliance while mapping to SDTM.</comment>
      </element>
      <element name="Fasting Status">
         <cdisc spec="CDASH" label="LBCFAST"/>
         <cdisc spec="SDTM" label="LBFAST"/>
         <mapping resource="Specimen" path="collection.fastingStatusCodeableConcept">
            <path value="Observation.specimen.resolve().collection.fastingStatusCodeableConcept.coding.code"/>
         </mapping>
         <comment>FHIR to CDISC mapping as follows:
F -&gt; Y; NF -&gt; N; FNA -&gt; N/A; NG -&gt; Not Applicable.<br/>
            <br/>If fastingStatusDuration is present and non-zero, that would also map to 'Y'.   In some cases, this may be inferred from the LOINC term (Challenge). For example, Challenge=post CFst to signify a calorie fast.</comment>
      </element>
      <element name="Lab Test Condition Met">
         <cdisc spec="CDASH" label="LBCOND"/>
         <gap>This is an 'ask on entry' question.  May be able to determine some conditions, such as fasting, by using other specimen.collection attributes (e.g., fasting status).  Others might be captured as components or extensions.  Alternatively, obtain this information from the case report form entries.</gap>
         <comment>There are explicit elements for Specimen.collection.fastingStatus and collection.fastingDuration.  May need extensions for other pre-conditions</comment>
      </element>
      <element name="Specimen Collection Position">
         <cdisc spec="CDASH" label="LBCPOS"/>
         <cdisc spec="SDTM" label="LBPOS*"/>
         <mapping resource="Specimen" path="collection">
            <path value="Observation.specimen.resolve().collection.extension(observation-bodyPosition).valueCodeableConcept"/>
         </mapping>
         <comment>As reported from the lab.  Will need to map to CDISC controlled terminology</comment>
      </element>
      <element name="Specimen Usability for the Test">
         <cdisc spec="CDASH" label="LBCSPCUF"/>
         <cdisc spec="SDTM" label="LBSPCUFL*"/>
         <mapping resource="Specimen" path="status">
            <path value="Observation.specimen.resolve()status.where($this='Unsatisfactory')"/>
         </mapping>
         <comment>Need to translate to blank or N if not received as blank or N<br/>
            <br/>May not be applicable for safety labs.</comment>
      </element>
      <element name="Category">
         <cdisc spec="CDASH" label="LBCCAT"/>
         <cdisc spec="SDTM" label="LBCAT"/>
         <mapping resource="DiagnosticReport" path="category">
            <path value="DiagnosticReport.category.coding.where(system='LBSCAT').code"/>
         </mapping>
         <mapping resource="DiagnosticReport" path="code">
            <path value="DiagnosticReport.code"/>
         </mapping>
         <comment>NOTE: In some cases, this may be inferred from the LOINC.  It might also be found by looking for the 'panel' Obsesrvation this Observation is a part of.  In most cases, translation will be required to sponsor-defined codes.  It may work best for the sponsor to categorize based on TESTCD values and ignore lab-reported and EHR-determined categories entirely.</comment>
      </element>
      <element name="Test Status">
         <cdisc spec="CDASH" label="LBCSTAT"/>
         <cdisc spec="SDTM" label="LBSTAT"/>
         <mapping resource="ServiceRequest" path="doNotPerform">
            <path value="Observation.basedOn.resolve().doNotPerform"/>
         </mapping>
         <mapping resource="ServiceRequest" path="status">
            <path value="Observation.basedOn.resolve().status"/>
         </mapping>
         <comment>Sponsor may choose to map a situation in which the entire panel is cancelled as one summary record compliant with SDTM IG examples.
Some sponsor may decline to accept cancelled records under specific circumstances (e.g., unscheduled)
Sponsor may also choose to populate LBREASND as CANCELLED<br/>
            <br/>Needs to be translated from FHIR vocabulary to SDTM controlled terminology:   FHIR -&gt; CDISC:
Not performed = NOT DONE
Cancelled = NOT DONE
Completed = &lt;blank&gt;
</comment>
      </element>
      <element name="Reason Test Not Done">
         <cdisc spec="SDTM" label="LBREASND"/>
         <mapping resource="Observation" path="dataAbsentReason">
            <path value="Observation.dataAbsentReason.text"/>
         </mapping>
         <comment>see notes on LBSTAT</comment>
      </element>
      <element name="Lab Test or Examination Short Name">
         <cdisc spec="SDTM" label="LBTESTCD"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(selected=true).code"/>
         </mapping>
         <comment>Translate to compliant terminology (if needed)</comment>
      </element>
      <element name="Lab Test or Examination Name">
         <cdisc spec="SDTM" label="LBTEST"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(selected=true).display"/>
         </mapping>
         <comment>Translate to compliant terminology (if needed)</comment>
      </element>
      <element name="Test LOINC Code">
         <cdisc spec="CDASH" label="LBLOINC"/>
         <cdisc spec="SDTM" label="LBLOINC"/>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system='http://loinc.org').code"/>
         </mapping>
      </element>
      <element name="Vendor Name">
         <cdisc spec="CDASH" label="LBNAM"/>
         <cdisc spec="SDTM" label="LBNAM"/>
         <mapping resource="Organization" path="name">
            <path value="Observation.performer.where($this is Organization).resolve().name"/>
         </mapping>
      </element>
      <element name="Reference Range Indicator">
         <cdisc spec="CDASH" label="LBCNRIND"/>
         <cdisc spec="SDTM" label="LBNRIND"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.where(system ='NRIND')"/>
         </mapping>
         <comment>Must map to CDISC controlled terminology</comment>
      </element>
      <element name="Standard Toxicity Grade">
         <cdisc spec="SDTM" label="LBTOXGR"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.where(system=[Toxicity Grade]).coding.code"/>
         </mapping>
         <comment>Must map to sponsor-determind terminology</comment>
      </element>
      <element name="Toxicity Grade Code List Version">
         <cdisc spec="CDASH" label="LBCTOXV"/>
         <cdisc spec="SDTM" label="LBTOX"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.where(system=[Toxicity Grade]).coding.version"/>
         </mapping>
         <comment>Typically FHIR systems will only populate Coding.version where the terminology is ill-behaved and code meanings change over time.  The code system version doesn't convey what value set the user was choosing from (which could be a subset of the codes from the code system or could draw from multiple code systems).</comment>
      </element>
      <element name="Toxicity Grade Code List">
         <cdisc spec="CDASH" label="LBCTOX"/>
         <cdisc spec="SDTM" label="LBTOX"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation.where(system=[Toxicity Grade]).system"/>
         </mapping>
         <comment>Note that the system doesn't define the value set nor does it specify value set version or code system version(s)</comment>
      </element>
      <element name="Lab Ref Range Lower Limit in Orig Unit">
         <cdisc spec="CDASH" label="LBORNRLO"/>
         <cdisc spec="SDTM" label="LBORNRLO"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.low"/>
         </mapping>
         <comment>As reported from the lab.</comment>
      </element>
      <element name="Lab Ref Range Upper Limit in Orig Unit">
         <cdisc spec="CDASH" label="LBORNRHI"/>
         <cdisc spec="SDTM" label="LBORNRHI"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.high"/>
         </mapping>
         <comment>As reported from the lab.</comment>
      </element>
      <element name="Reference Range (for string value)">
         <cdisc spec="CDASH" label="LBCSTNRC"/>
         <cdisc spec="SDTM" label="LBSTNRC"/>
         <mapping resource="Observation" path="referenceRange">
            <path value="Observation.referenceRange.text"/>
         </mapping>
         <comment>Sponsor would normalize this.</comment>
      </element>
      <element name="Lab Result or Finding in Original Units">
         <cdisc spec="CDASH" label="LBORRES"/>
         <cdisc spec="SDTM" label="LBORRES"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
            <path value="Observation.valueCodeableConcept.text"/>
         </mapping>
         <comment>Might also include valueQuantity.comparator<br/>
            <br/>CDISC (and sponsors) may have different definitions about what constitutes an "original result".  Sponsors will need to make a determination of whether the value found in the Observation.value meets those criteria and is appropriate to be mapped.  (In some cases, what's in Observation.value could have been transformed from what was captured at the point of measurement.)</comment>
      </element>
      <element name="Reported Units">
         <cdisc spec="CDASH" label="LBRESU"/>
         <cdisc spec="SDTM" label="LBORRESU"/>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.unit"/>
         </mapping>
         <comment>Needs to be translated to match the controlled terminology, if not already compliant</comment>
      </element>
      <element name="Lab Clinical Significance">
         <cdisc spec="CDASH" label="LBCLSIG"/>
         <cdisc spec="SDTM" label="SUPPLB.QVAL"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation"/>
         </mapping>
         <comment>As determined by the lab, not the sponsor</comment>
      </element>
      <element name="Method">
         <cdisc spec="CDASH" label="LBCMETH"/>
         <cdisc spec="SDTM" label="LBMETHOD"/>
         <mapping resource="Observation" path="method">
            <path value="Observation.method"/>
         </mapping>
         <comment>Method can cover collection and many other features.  In some cases, collection method may be inferred from the Observation.code.  Would need to map to CDISC controlled terminology</comment>
      </element>
      <element name="Anatomical Region ">
         <cdisc spec="SDTM" label="LBLOC*"/>
         <mapping resource="Specimen" path="collection.bodySite">
            <path value="Observation.specimen.resolve().collection.bodySite"/>
         </mapping>
         <comment>In some cases, the anatomical location can be inferred from the Observation.code.  Would need to map to CDISC controlled terminology.</comment>
      </element>
      <element name="Run ID">
         <cdisc spec="CDASH" label="LBRUNID"/>
         <cdisc spec="SDTM" label="LBRUNID*"/>
         <gap>Would need to introduce an extension</gap>
         <comment>May not be applicable for safety labs.</comment>
      </element>
      <element name="Unique Subject Identifier">
         <cdisc spec="SDTM" label="USUBJID"/>
         <mapping resource="Patient" path="identifier">
            <path value="Observation.subject.resolve().identifier.value"/>
         </mapping>
         <comment>To find an identifier that was consistent for the subject across studies would typically mean looking to the Patient identifier.  However, this may not be appropriate to be exposed directly, so some degree of mapping, obfuscation or anonymization may be required.<br/>
            <br/>In theory, a sponsor specific study-independent identifier could be maintained on Patient alongside other patient identifiers, but this would be unusual in most clinical systems.</comment>
      </element>
      <element name="Result Categorization">
         <cdisc spec="CDASH" label="LBRESCAT"/>
         <cdisc spec="SDTM" label="LBRESCAT*"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation"/>
         </mapping>
         <comment>This wouldn't come from the lab.  It *could* be added after the fact.  If so, this would be the mapping</comment>
      </element>
      <element name="Anatomical Region">
         <cdisc spec="CDASH" label="LBANTREG"/>
         <cdisc spec="SDTM" label="LBANTREG*"/>
         <mapping resource="Specimen" path="collection.bodySite">
            <path value="Observation.specimen.resolve().collection.bodySite"/>
         </mapping>
         <comment>Not differentiated from LBLOC.  Not for basic safety labs</comment>
      </element>
      <element name="Unscheduled Flag">
         <cdisc spec="CDASH" label="LBUSCHFL"/>
         <cdisc spec="SDTM" label="LBUSCHFL*"/>
         <gap>This can sort of be inferred from the absence of a link to a PlanDefinition or ActivityDefinition, however there are lots of other reasons these links could be missing, so that's not totally reliable.  Could look at using an extension or a tag<br/>
            <br/>Not generally used for human clinical trials</gap>
      </element>
      <element name="Planned Time Point Number">
         <cdisc spec="SDTM" label="LBTPTNUM"/>
         <gap>Pull this information from the Clinical Plan (PlanDefinition)</gap>
         <comment>Link to the clinical plan would be through the Observation.basedOn link to CarePlan or the instantiatesCanonical link to PlanDefinition or ActivityDefinition</comment>
      </element>
      <element name="Analytical Method">
         <cdisc spec="SDTM" label="LBANMETH*"/>
         <gap>This does not apply to safety labs.</gap>
         <comment>The corresponding values need to be evaluated and aligned accordingly to the CDISC context of --METHOD.
Potentially could appear in Observation.method.  An extension is required to distinguish.</comment>
      </element>
      <element name="Baseline Flag">
         <cdisc spec="SDTM" label="LBBLFL"/>
         <gap>Variable may be deprecated.  This information would come from the Sponsor.</gap>
         <comment>Could appear in Observation.reasonCode.  In practice the notion of 'baseline' is more of a relationship.  Any arbitrary Observation might be selected as the 'baseline' for a particular step in the study.  As such, the real linkage is the tie to the CarePlan activity that's tied to the ActivityDefinition with a reason of 'baseline'.</comment>
      </element>
      <element name="Derived Flag">
         <cdisc spec="SDTM" label="LBDRVFL"/>
         <gap>This information would come from the Sponsor.</gap>
         <comment>FHIR doesn't use a flag.  If an Observation is derived, it should point to the Observations it's derived from with the derivedFrom association.  (If that relationship is present, then the Derived Flag is true)</comment>
      </element>
   </domain>
   <domain code="VS" name="Vital Signs">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="STUDYID"/>
         <cdisc spec="SDTM" label="STUDYID"/>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().partOf.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.   ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="site">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=Observation.subject).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the Observation.<br/>
            <br/>No standard way to decide which subject identifier to use</comment>
      </element>
      <element name="Visit Name">
         <cdisc spec="CDASH" label="VISIT"/>
         <cdisc spec="SDTM" label="VISIT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Encounter should have a standard instantiatesCanonical extension that would allow pointing to the ActivityDefinition.  This would be the ActivityDefinition.name.  Submit a change request to add the extension</gap>
      </element>
      <element name="Visit Date">
         <cdisc spec="CDASH" label="VISDAT"/>
         <cdisc spec="SDTM">
            <description>The field is not an SDTM variable.  The date of a measurement, test observation can be determined from the date/time of visit (VISDAT/VISTM components</description>
         </cdisc>
         <mapping resource="Encounter" path="period">
            <path value="Observation.encounter.resolve().period.start"/>
         </mapping>
         <comment>Linked via Observation.encounter</comment>
      </element>
      <element name="Vital Signs Performed">
         <cdisc spec="CDASH" label="VSPERF"/>
         <cdisc spec="SDTM" label="VSSTAT">
            <description>This field is not an SDTM variable.  
May be used to derive a value into the SDTM variable VSSTAT.  If VSPERF="N", the value of VSSSTAT will be "NOT DONE".  If VSPErF="Y", VSSTAT should be NULL</description>
         </cdisc>
         <mapping resource="Observation" path="status">
            <path value="Observation.status=('final' or 'cancelled')"/>
         </mapping>
      </element>
      <element name="Vital Signs Date">
         <cdisc spec="CDASH" label="VSDAT"/>
         <cdisc spec="SDTM" label="VSDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable VSDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="Observation" path="effectiveDateTime">
            <path value="Observation.effectiveDateTime"/>
         </mapping>
      </element>
      <element name="Vital Signs Time">
         <cdisc spec="CDASH" label="VSTIM"/>
         <cdisc spec="SDTM" label="VSDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable VSDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="Observation" path="effectiveDateTime">
            <path value="Observation.effectiveDateTime"/>
         </mapping>
      </element>
      <element name="Category for Vital Signs">
         <cdisc spec="CDASH" label="VSCAT"/>
         <cdisc spec="SDTM" label="VSCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). </description>
         </cdisc>
         <mapping resource="Observation" path="category">
            <path value="Observation.category"/>
         </mapping>
         <comment>FHIR allows multiple categorizations at various levels of granularity.<br/>
            <br/>Observation.category.coding.system="http://terminology.hl7.org/CodeSystem/observation-category" + Observation.category.coding.code="vital-signs".
This combination can be used to extract vital sign data points from EHR system and correctly assign them to the VS domain.</comment>
      </element>
      <element name="Subcategory for Vital Signs">
         <cdisc spec="CDASH" label="VSSCAT"/>
         <cdisc spec="SDTM" label="VSSCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="category">
            <path value="Observation.category"/>
         </mapping>
         <comment>FHIR allows multiple categorizations at various levels of granularity.<br/>
            <br/>Observation.category.coding.system="http://terminology.hl7.org/CodeSystem/observation-category" + Observation.category.coding.code="vital-signs".
This combination can be used to extract vital sign data points from EHR system and correctly assign them to the VS domain.</comment>
      </element>
      <element name="Vital Signs Group ID">
         <cdisc spec="CDASH" label="VSGRPID"/>
         <cdisc spec="SDTM" label="VSGRPID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>This would typically be done by having the related Observations being 'membersOf' a common parent Observation.</gap>
      </element>
      <element name="Vital Signs Planned Time Point Name">
         <cdisc spec="CDASH" label="VSTPT"/>
         <cdisc spec="SDTM" label="VSTPT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="extension">
            <path value="Observation.extension(R5/Observation.instantiatesCanonical).resolve().title"/>
         </mapping>
         <comment>TimePoints will be represented in FHIR as PlanDefinition.activities.  Referencing a PlanDefinition is supported in R5.  Can use a standard extension to pre-adopt.</comment>
      </element>
      <element name="Vital Signs Completion Status">
         <cdisc spec="CDASH" label="VSSTAT"/>
         <cdisc spec="SDTM" label="VSSTAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="status">
            <path value="Observation.status"/>
            <path value="ServiceRequest.status IN {'cancelled'|'on-hold'|'revoked'| 'entered-in-error'}"/>
         </mapping>
         <mapping resource="ServiceRequest" path="status">
            <path value="Observation.status"/>
            <path value="ServiceRequest.status IN {'cancelled'|'on-hold'|'revoked'| 'entered-in-error'}"/>
         </mapping>
         <comment>In some instances, VSSTAT="NOT DONE" records will come from FHIR Observation resources where Observation.status="cancelled".</comment>
      </element>
      <element name="VS Result or Finding in Original Units">
         <cdisc spec="CDASH" label="VSORRES"/>
         <cdisc spec="SDTM" label="VSORRES">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.value"/>
         </mapping>
         <comment>Ensure the value provided from the EHR is considered an actual value (result), an interpretation or range.  </comment>
      </element>
      <element name="VS Original Units">
         <cdisc spec="CDASH" label="VSORRESU"/>
         <cdisc spec="SDTM" label="VSORRESU">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="valueQuantity">
            <path value="Observation.valueQuantity.unit"/>
         </mapping>
      </element>
      <element name="Vital Signs Clinical Significance">
         <cdisc spec="CDASH" label="VSCLSIG"/>
         <cdisc spec="SDTM" label="SUPPVS.QVAL"/>
         <mapping resource="Observation" path="interpretation">
            <path value="Observation.interpretation"/>
         </mapping>
         <comment>If clinical significance is a boolean, then the mapping is different from the existing http://hl7.org/fhir/ValueSet/observation-interpretation ValueSet. Meaning, the values of "normal", "high", :low", etc. can reside in the --NRIND variable. There are also cases where clinical significant outcome details can exist with corresponding details that don't fit into either of those mentioned buckets. </comment>
      </element>
      <element name="Vital Signs Position of Subject">
         <cdisc spec="CDASH" label="VSPOS"/>
         <cdisc spec="SDTM" label="VSPOS">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="code">
            <path value="Observation.code"/>
         </mapping>
         <mapping resource="Observation" path="method">
            <path value="Observation.method"/>
         </mapping>
         <comment>This is often pre-coordinated into the Observation.code, but can also be expressed in the method</comment>
      </element>
      <element name="Location of Vital Signs Measurement">
         <cdisc spec="CDASH" label="VSLOC"/>
         <cdisc spec="SDTM" label="VSLOC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="bodySite">
            <path value="Observation.bodySite"/>
         </mapping>
         <comment>Requires knowledge or review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="Vital Signs Laterality">
         <cdisc spec="CDASH" label="VSLAT"/>
         <cdisc spec="SDTM" label="VSLAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="bodySite">
            <path value="Observation.bodySite"/>
         </mapping>
         <comment>Requires knowledge or review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="Vital Signs Directionality">
         <cdisc spec="CDASH" label="VSDIR"/>
         <cdisc spec="SDTM" label="VSDIR*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Observation" path="bodySite">
            <path value="Observation.bodySite"/>
         </mapping>
         <comment>Requires knowledge or review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="Vital Signs Test code">
         <cdisc spec="CDASH" label="VSTESTCD"/>
         <cdisc spec="SDTM" label="VSTESTCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). The SDTMIG variable VSTESTCD may be determined from the value collected in VSTESTCD and VSTEST. Both  VSTESTCD and VSTEST are required in the SDTM submission datasets.  Use appropriate CDISC Controlled Terminology for the test and test code.</description>
         </cdisc>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.code"/>
         </mapping>
         <comment>coding.display and coding.code (plus coding.system)</comment>
      </element>
      <element name="Vital Signs Test Name">
         <cdisc spec="CDASH" label="VSTEST"/>
         <cdisc spec="SDTM" label="VSTEST">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). The SDTMIG variable VSTESTCD may be determined from the value collected in VSTESTCD and VSTEST. Both  VSTESTCD and VSTEST are required in the SDTM submission datasets.  Use appropriate CDISC Controlled Terminology for the test and test code.</description>
         </cdisc>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.display"/>
         </mapping>
         <comment>coding.display and coding.code (plus coding.system)</comment>
      </element>
      <element name="Vital Signs Sponsor-Defined Identifier">
         <cdisc spec="CDASH" label="VSSPID"/>
         <cdisc spec="SDTM" label="VSSPID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  May be used to create RELREC to link this record with a record in another domain.</description>
         </cdisc>
         <mapping resource="Observation" path="identifier">
            <path value="Observation.identifier.where(assigner=[sponsor organization id])"/>
         </mapping>
         <comment>The assigner of the identifier can be explicit or inferred by the Identifier.system.  Example: "assigner=sponsor", the value of assigner can either be a simple name using "display" (e.g. "assigner.display=MyPharma" or a reference to an "Organization"</comment>
      </element>
      <element name="Vital Signs Repetition Number">
         <cdisc spec="CDASH" label="VSREPNUM"/>
         <cdisc spec="SDTM" label="SUPPVS.QVAL">
            <description>The repetition number of test/measurement within the time point ma be preprinted on the CRF (e.g.. multiple measurements of blood pressure, multiple analyses of a sample).<br/>
               <br/>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPVS dataset as the value of SUPPPVS.QVAL where SUPPVS.QNAM="VSREPNUM" and SUPVS.QLABEL="Repetition Number within time point:.  Refer to current SDTM and SDTMIG for instructions on placement of non-standard variables in SDTM domains.</description>
         </cdisc>
         <gap>This could be captured as a specific ActivityDefinition where you'd have a distinct ActivityDefinition for each occurrence.  However, it is more likely to be a single ActivityDefinition for the test and an extension would be added on Observation.instantiates to indicate which occurrence is the Observation.</gap>
      </element>
   </domain>
   <domain code="AE" name="Adverse Event">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="STUDYID"/>
         <cdisc spec="SDTM" label="STUDYID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). I the column with the heading SDTMIG Target.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="study">
            <path value="AdverseEvent.study.resolve().partOf.resolve().identifier.value"/>
            <path value="ResearchSubject.where(subject=AdverseEvent.subject).study.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The direct path using AdverseEvent.study will only exist if the system maintaining the AdverseEvent is aware of its relevance to the Study.    ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="site">
            <path value="AdverseEvent.study.resolve().identifier.value"/>
            <path value="ResearchSubject.where(subject=AdverseEvent.subject).study.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The direct path using AdverseEvent.study will only exist if the system maintaining the AdverseEvent is aware of its relevance to the Study.</comment>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=AdverseEvent.subject).identifier.value"/>
         </mapping>
         <comment>Research subject points to patient, adverse event points to patient. Adverse event points to study. Check to see if they are the same in order to establish linkage.  When extracting real world evidence either the extraction will be performed in a fully identified mode and de-identification will happen as a subsequent process or the de-identification will already have occurred. Any identify info in the resources will already have real world identification randomized or otherwise made nonsensitive. The mapping is referring to subject.reference not to the identifier element on the clinical resources.</comment>
      </element>
      <element name="Any Adverse Event">
         <cdisc spec="CDASH" label="AEYN"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM aCRF is annotated to indicate that the field is NOT SUBMITTED.</description>
         </cdisc>
         <gap>In FHIR, this would be determined by searching for AdverseEvents with a given subject (possibly also filtered by research study) and excluding those that were entered in error.  If a flag were necessary, it would be an extension on Study, not sent on AdverseEvent.  It might also be necessary to search for Condition instances, Observation instances, Encounters with particular reasons and other resources if the desire is to have the full set of potential adverse reactions.</gap>
      </element>
      <element name="Category for Adverse Event">
         <cdisc spec="CDASH" label="AECAT"/>
         <cdisc spec="SDTM" label="AECAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). I the column with the heading SDTMIG Target.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="category">
            <path value="AdverseEvent.category"/>
         </mapping>
         <comment>This is typically sponsor-specific and we would not expect this to come from the site.<br/>
            <br/>In FHIR, an AdverseEvent can be categorized in as many ways as desired with whatever granularity is desired.  When converting from FHIR to CDASH, systems will need to look at the FHIR categories (and potentially other information) to determine how best to populate AECAT and AESCAT based on the study-designed categories (unless they've pre-arranged with the EHR to ensure it captures the same codes)</comment>
      </element>
      <element name="Subcategory for Adverse Event">
         <cdisc spec="CDASH" label="AESCAT"/>
         <cdisc spec="SDTM" label="AESCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="category">
            <path value="AdverseEvent.category"/>
         </mapping>
         <comment>This is typically sponsor-specific and we would not expect this to come from the site.<br/>
            <br/>In FHIR, an AdverseEvent can be categorized in as many ways as desired with whatever granularity is desired.  When converting from FHIR to CDASH, systems will need to look at the FHIR categories (and potentially other information) to determine how best to populate AECAT and AESCAT based on the study-designed categories (unless they've pre-arranged with the EHR to ensure it captures the same codes)</comment>
      </element>
      <element name="AE Sponsor-Defined Identifier">
         <cdisc spec="CDASH" label="AESPID"/>
         <cdisc spec="SDTM" label="AESPID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  May be used to create RELREC to link this record with a record in another domain.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="identifier">
            <path value="AdverseEvent.identifier.where(assigner=sponsor).value"/>
            <path value="AdverseEvent.refID"/>
         </mapping>
         <comment>The assigner of the identifier can be explicit or inferred by the Identifier.system.</comment>
      </element>
      <element name="Reported Term for the Adverse Event">
         <cdisc spec="CDASH" label="AETERM"/>
         <cdisc spec="SDTM" label="AETERM">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
      </element>
      <element name="Adverse Event Occurrence">
         <cdisc spec="CDASH" label="AEOCCUR"/>
         <cdisc spec="SDTM">
            <description>This does not map directly to an SDTMIG variable.  Because the SDTM AE domain is intended to hold only AdverseEvents that actually happen, all values collected in AEOCCUR for prespecified AEs should be submitted in a Findings About AdverseEvents data set (FAAE) where FAORRES=the value of AEOCCUR where FATESTCD="OCCUR" in addition, where AEOCCUR=Y, there should be a corresponding record in the AE domain.</description>
         </cdisc>
         <gap>FHIR only captures AdverseEvents that have actually occurred.  A flag about whether a particular potential adverse reaction has been detected or not could be captured using Questionnaire Response</gap>
      </element>
      <element name="Prespecified Adverse Event">
         <cdisc spec="CDASH" label="AEPRESP"/>
         <cdisc spec="SDTM" label="AEPRESP">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>If captured within an EHR, this would be an extension on the existing extension that references the ResearchStudy.  (An AdverseEvent might be pre-specified for one study and not for another.)</gap>
      </element>
      <element name="Adverse Event Start Date">
         <cdisc spec="CDASH" label="AESTDAT"/>
         <cdisc spec="SDTM" label="AESTDTC">
            <description>This does not map directly to an SDTMIG variable. For the SDTM submission dataset, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable AESTDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="date">
            <path value="AdverseEvent.date(date portion)"/>
         </mapping>
      </element>
      <element name="Start Time of Adverse Event">
         <cdisc spec="CDASH" label="AESTTIM"/>
         <cdisc spec="SDTM" label="AESTDTC">
            <description>This does not map directly to an SDTMIG variable. For the SDTM submission dataset, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable AESTDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="date">
            <path value="AdverseEvent.date(time portion)"/>
         </mapping>
      </element>
      <element name="AE Location of Event">
         <cdisc spec="CDASH" label="AELOC"/>
         <cdisc spec="SDTM" label="AELOC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="bodySite">
            <path value="AdverseEvent.resultingCondition.resolve().bodySite"/>
         </mapping>
         <comment>Requires knowledge or review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="Adverse Event Laterality">
         <cdisc spec="CDASH" label="AELAT"/>
         <cdisc spec="SDTM" label="AELAT*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="bodySite">
            <path value="AdverseEvent.resultingCondition.resolve().bodySite"/>
         </mapping>
         <comment>Requires knowledge or review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="Adverse Event Directionality">
         <cdisc spec="CDASH" label="AEDIR"/>
         <cdisc spec="SDTM" label="AEDIR*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="bodySite">
            <path value="AdverseEvent.resultingCondition.resolve().bodySite"/>
         </mapping>
         <comment>Requires knowledge or review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="AE Location Portion or Totality">
         <cdisc spec="CDASH" label="AEPORTOT"/>
         <cdisc spec="SDTM" label="AEPORTOT*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="bodySite">
            <path value="AdverseEvent.resultingCondition.resolve().bodySite"/>
         </mapping>
         <comment>Review of data to ensure location, laterality and directionality are included in the code and can be parsed.</comment>
      </element>
      <element name="Ongoing Adverse Event">
         <cdisc spec="CDASH" label="AEONGO"/>
         <cdisc spec="SDTM" label="AEENRTPT"/>
         <cdisc spec="SDTM" label="AEENRF"/>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome - ongoing"/>
         </mapping>
         <gap>Note that the assertion of 'ongoing' is made at the time the adverse event is recorded, which may or may not be what's needed for submission purposes.</gap>
      </element>
      <element name="Adverse Event End Date">
         <cdisc spec="CDASH" label="AEENDAT"/>
         <cdisc spec="SDTM" label="AEENDTC"/>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.occurrence).valuePeriod.end"/>
         </mapping>
         <comment>Need to use a standard extension to pre-adopt the type allowed in R5.  Element contains both date and time (if specified).</comment>
      </element>
      <element name="End Time of Adverse Event">
         <cdisc spec="CDASH" label="AEENTIM"/>
         <cdisc spec="SDTM" label="AEENDTC"/>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.occurrence).valuePeriod.end"/>
         </mapping>
         <comment>Need to use a standard extension to pre-adopt the type allowed in R5.  Element contains both date and time (if specified).</comment>
      </element>
      <element name="AE Severity/Intensity">
         <cdisc spec="CDASH" label="AESEV"/>
         <cdisc spec="SDTM" label="AESEV">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="severity">
            <path value="AdverseEvent.severity"/>
         </mapping>
      </element>
      <element name="AE Standard Toxicity Grade">
         <cdisc spec="CDASH" label="AETOXGR"/>
         <cdisc spec="SDTM" label="AETOXGR">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the toxicity scale name and version used to map the terms utilizing the Define-XML external code list attributes.</description>
         </cdisc>
         <gap>Recommendation is to add extension for oncology or other studies requiring toxicity grades.</gap>
      </element>
      <element name="AE Serious Event">
         <cdisc spec="CDASH" label="AESER"/>
         <cdisc spec="SDTM" label="AESER">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="seriousness">
            <path value="AdverseEvent.seriousness"/>
         </mapping>
         <comment>Access if an adverse event should be classified as serious based on the serious criteria defined in the protocol.</comment>
      </element>
      <element name="Results in Death">
         <cdisc spec="CDASH" label="AESDTH"/>
         <cdisc spec="SDTM" label="AESDTH">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome='fatal'"/>
         </mapping>
      </element>
      <element name="Death Date">
         <cdisc spec="CDASH" label="DTHDAT"/>
         <cdisc spec="SDTM" label="DM.DTHDTC">
            <description>This field does not map directly to an SDTMIG variable.  For the SDTM dataset, concatenate all collected CDASH DATE and TIME components and populate the SDTM variable DTHDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="Patient" path="deceasedDateTime">
            <path value="Patient.deceasedDateTime"/>
         </mapping>
      </element>
      <element name="Is Life Threatening">
         <cdisc spec="CDASH" label="AESLIFE"/>
         <cdisc spec="SDTM" label="AESLIFE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="seriousness">
            <path value="AdverseEvent.seriousness"/>
         </mapping>
         <comment>These would typically be flagged by seriousness or outcome codes.  Will need to propose change request to support capturing more than one</comment>
      </element>
      <element name="Requires or Prolongs Hospitalization">
         <cdisc spec="CDASH" label="AESHOSP"/>
         <cdisc spec="SDTM" label="AESHOSP">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Note: there is Encounter.hospitalization.[x], but its relevance to AESHOSP may not be explicit and would require additional analysis.</gap>
      </element>
      <element name="Persist or Signif Disability/Incapacity">
         <cdisc spec="CDASH" label="AESDISAB"/>
         <cdisc spec="SDTM" label="AESDISAB">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
         <comment>These would typically be flagged by seriousness or outcome codes.  Will need to propose change request to support capturing more than one</comment>
      </element>
      <element name="Congenital Anomaly or Birth Defect">
         <cdisc spec="CDASH" label="AESCONG"/>
         <cdisc spec="SDTM" label="AESCONG">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
         <comment>These would typically be flagged by seriousness or outcome codes.  Will need to propose change request to support capturing more than one</comment>
      </element>
      <element name="Needs Intervention to Prevent Impairment">
         <cdisc spec="CDASH" label="AESINTV"/>
         <cdisc spec="SDTM" label="SUPPAE.QVAL">
            <description>If the details regarding Serious As are collected I the clinical database, then it is recommended that a separate Yes/No variable be defined for each Serious AE type.  </description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
         <comment>These would typically be flagged by seriousness or outcome codes.  Will need to propose change request to support capturing more than one</comment>
      </element>
      <element name="Other Medically Important Serious Event">
         <cdisc spec="CDASH" label="AESMIE"/>
         <cdisc spec="SDTM" label="AESMIE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
         <comment>Additional outcomes or seriousness codes would be specified</comment>
      </element>
      <element name="Involves Cancer">
         <cdisc spec="CDASH" label="AESCAN"/>
         <cdisc spec="SDTM" label="AESCAN">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
         <comment>Additional outcomes or seriousness codes would be specified</comment>
      </element>
      <element name="Occurred with Overdose">
         <cdisc spec="CDASH" label="AESOD"/>
         <cdisc spec="SDTM" label="AESOD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent"
                  path="suspectEntity.causality.productRelatedness">
            <path value="AdverseEvent.suspectEntity.causality.productRelatedness"/>
         </mapping>
         <comment>Product Relatedness implies that the product is involved in the AE, but it doesn't indicate overdose.  After looking through other fields, it does not look like there is a field that would cover this situation.  In studies, OD would be a reason why the AE was marked as an SAE.</comment>
      </element>
      <element name="AE Causality">
         <cdisc spec="CDASH" label="AEREL"/>
         <cdisc spec="SDTM" label="AEREL">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent"
                  path="suspectEntity.causality.productRelatedness">
            <path value="AdverseEvent.suspectEntity.causality.productRelatedness|AdverseEvent.suspectEntity.causality.assessment with binding to  AdverseEventCausalityAssessment value set"/>
         </mapping>
      </element>
      <element name="Action Taken with Study Treatment">
         <cdisc spec="CDASH" label="AEACN"/>
         <cdisc spec="SDTM" label="AEACN">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.mitigatingAction).extension(item).valueCodeableConcept"/>
         </mapping>
         <comment>Pre-adopting R5 capability via a standard extension.  Note that the extension captures all actions taken, so filtration would be needed to select only those related to study treatment</comment>
      </element>
      <element name="Actions Taken with Device">
         <cdisc spec="CDASH" label="AEACNDEV"/>
         <cdisc spec="SDTM" label="SUPPAE.QVAL">
            <description>This does not map directly an SDTMIG variable.  The sponsor may submit this data in a SUPPAE-dataset where SUPPAE.QNAM = "AEACNDEV" and SUPPAE.QLABEL = "Actions Taken with Device".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variables in SDTM domains.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.mitigatingAction).extension(item).valueCodeableConcept"/>
         </mapping>
         <comment>Pre-adopting R5 capability via a standard extension.  Note that the extension captures all actions taken, so filtration would be needed to select only those related to devices</comment>
      </element>
      <element name="Other Action Taken">
         <cdisc spec="CDASH" label="AEACNOTH"/>
         <cdisc spec="SDTM" label="AEACNOTH">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.mitigatingAction).extension(item).valueCodeableConcept"/>
         </mapping>
         <comment>Pre-adopting R5 capability via a standard extension.  Note that the extension captures all actions taken, so filtration would be needed to exclude actions related to study treatment or device</comment>
      </element>
      <element name="Outcome of Adverse Event">
         <cdisc spec="CDASH" label="AEOUT"/>
         <cdisc spec="SDTM" label="AEOUT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
         <comment>The coded equivalents matching up the CDISC controlled terminology. Meaning, in the EHR we may not have value-based coordination from FHIR-to-CDISC</comment>
      </element>
      <element name="AE Caused Study Discontinuation">
         <cdisc spec="CDASH" label="AEDIS"/>
         <cdisc spec="SDTM" label="SUPPAE.QVAL">
            <description>This does not map directly an SDTMIG variable.  May be used to create a RELREC to link the AdverseEvent to the Disposition record (see SDTMIG v3.2 Section (8.2).  The sponsor may also submit this data in a SUPPAE dataset where SUPPAE.QNAM = "AEDIS" and SUPPAE.QLABEL = "Cased Study Discontinuation ".  if appropriate.  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variables in SDTM domains.</description>
         </cdisc>
         <gap>Add an extension - would need to be specific to study as relationship might vary by study.</gap>
      </element>
      <element name="AE Related to Non-Study Treatment">
         <cdisc spec="CDASH" label="AERLNSYN"/>
         <cdisc spec="SDTM">
            <description>This does not map directly an SDTMIG variable.  The SDTM aCRF is annotated to indicate that this field is not SUBMITTED.</description>
         </cdisc>
         <gap>Add an extension - would need to be specific to study as relationship might vary by study.</gap>
      </element>
      <element name="AE Relationship to Non-Study Treatment">
         <cdisc spec="CDASH" label="AERELNST"/>
         <cdisc spec="SDTM" label="AERELNST">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Add an extension - would need to be specific to study as relationship might vary by study.</gap>
      </element>
      <element name="Adverse Event of Special Interest">
         <cdisc spec="CDASH" label="AESI"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM aCRF is annotated to indicate that the field is NOT SUBMITTED.</description>
         </cdisc>
         <gap>Add extension, probably on a study-specific link.  (Adverse events of interst to one study wouldn't necessarily be of interest to others.)</gap>
      </element>
      <element name="Pattern of Adverse Event">
         <cdisc spec="CDASH" label="AEPATT"/>
         <cdisc spec="SDTM" label="AEPATT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Add extension</gap>
      </element>
      <element name="Concomitant or Additional Trtmnt Given">
         <cdisc spec="CDASH" label="AECONTRT"/>
         <cdisc spec="SDTM" label="AECONTRT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.mitigatingAction).extension(item).valueCodeableConcept"/>
         </mapping>
         <comment>R5 pre-adoption extension.  Note that mitigatingActions aren't necessarily treatments, so codes would need to be examined to only map those that were treatments</comment>
      </element>
      <element name="AE Modified Reported Term">
         <cdisc spec="CDASH" label="AEMODIFY"/>
         <cdisc spec="SDTM" label="AEMODIFY">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>The fact one of the codings was modified would be captured as an extension</gap>
      </element>
      <element name="AE Dictionary-Derived Term">
         <cdisc spec="CDASH" label="AEDECOD"/>
         <cdisc spec="SDTM" label="AEDECOD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE Lowest Level Term ">
         <cdisc spec="CDASH" label="AELLT"/>
         <cdisc spec="SDTM" label="AELLT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE Lowest Level Term Code">
         <cdisc spec="CDASH" label="AELLTCD"/>
         <cdisc spec="SDTM" label="AELLTCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE Preferred Term Code">
         <cdisc spec="CDASH" label="AEPTCD"/>
         <cdisc spec="SDTM" label="AEPTCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE High Level Term">
         <cdisc spec="CDASH" label="AEHLT"/>
         <cdisc spec="SDTM" label="AEHLT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE High Level Term Code">
         <cdisc spec="CDASH" label="AEHLTCD"/>
         <cdisc spec="SDTM" label="AEHLTCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE High Level Group Term">
         <cdisc spec="CDASH" label="AEHLGT"/>
         <cdisc spec="SDTM" label="AEHLGT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE High Level Group Term Code">
         <cdisc spec="CDASH" label="AEHLGTCD"/>
         <cdisc spec="SDTM" label="AEHLGTCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE Primary System Organ Class">
         <cdisc spec="CDASH" label="AESOC"/>
         <cdisc spec="SDTM" label="AESOC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="AE Primary System Organ Class Code">
         <cdisc spec="CDASH" label="AESOCCD"/>
         <cdisc spec="SDTM" label="AESOCCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to map the terms.</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="AdverseEvent.resultingCondition.resolve().code"/>
         </mapping>
         <comment>Sponsors will populate this through the coding process and is applicable to items using MedDRA coding.</comment>
      </element>
      <element name="Any Other Actions Taken">
         <cdisc spec="CDASH" label="AEACNOYN"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM aCRF is annotated to indicate that the field is NOT SUBMITTED.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="extension">
            <path value="AdverseEvent.extension(AdverseEvent.mitigatingAction).extension(item).valueCodeableConcept"/>
         </mapping>
         <comment>R5 pre-adoption extension.  Note that mitigatingActions also include treatments, so codes would need to be examined to only map those that were NOT treatments</comment>
      </element>
   </domain>
   <domain code="MH" name="Medical History">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="STUDYID"/>
         <cdisc spec="SDTM" label="STUDYID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(individual=(AdverseEvent.subject|Condition.subject|AllergyIntolerance.patient|Observation.subject).study.resolve().partOf.resolve().identifier.value"/>
            <path value="AdverseEvent.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="Condition.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="AllergyIntolerance.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the AdverseEvent/Condition/AllergyIntolerance/Observation is aware of its relevance to the Study.</comment>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="site">
            <path value="ResearchSubject.where(individual=(AdverseEvent.subject|Condition.subject|AllergyIntolerance.patient|Observation.subject).study.resolve().identifier.value"/>
            <path value="AdverseEvent.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="Condition.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="AllergyIntolerance.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="Observation.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the AdverseEvent/Condition/AllergyIntolerance/Observation is aware of its relevance to the Study.   ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=(AdverseEvent.subject|Condition.subject|AllergyIntolerance.patient|Observation.subject)).identifer.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the focal resource.<br/>
            <br/>No standard way to decide which subject identifier to use</comment>
      </element>
      <element name="Any Medical History Event">
         <cdisc spec="CDASH" label="MHYN"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM Annotated CRF is annotated to indicate that this field is NOT SUBMITTED</description>
         </cdisc>
         <gap>If captured, this would be a Questionnaire question.  FHIR almost always has some type of history information.  Will require review to determine if the history is relevant.</gap>
      </element>
      <element name="Category for Medical History">
         <cdisc spec="CDASH" label="MHCAT"/>
         <cdisc spec="SDTM" label="MHCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="category">
            <path value="Condition.category"/>
         </mapping>
         <mapping resource="AdverseEvent" path="category">
            <path value="AdverseEvent.category"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="category">
            <path value="AllergyIntolerance.category"/>
         </mapping>
         <mapping resource="Observation" path="category">
            <path value="Observation.category"/>
         </mapping>
         <comment>The sponsors does not typically require this information from the sites.<br/>
            <br/>If needed there are several options to categorize this based on whether something is a Condition/AllergyIntolerance/Observation/etc.  This could also include sub-categorize by diagnosis vs. problem, Allergy vs. intolerance or use Observation.category.  But in general, the mapping to both CAT and SCAT is going to be driven by what types of categories the study requires or needs.</comment>
      </element>
      <element name="Subcategory for Medical History">
         <cdisc spec="CDASH" label="MHSCAT"/>
         <cdisc spec="SDTM" label="MHSCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). </description>
         </cdisc>
         <mapping resource="Condition" path="category">
            <path value="Condition.category"/>
         </mapping>
         <mapping resource="AdverseEvent" path="category">
            <path value="AdverseEvent.category"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="category">
            <path value="AllergyIntolerance.category"/>
         </mapping>
         <mapping resource="Observation" path="category">
            <path value="Observation.category"/>
         </mapping>
         <comment>The sponsors does not typically require this information from the sites.<br/>
            <br/>If needed there are several options to categorize this based on whether something is a Condition/AllergyIntolerance/Observation/etc.  This could also include sub-categorize by diagnosis vs. problem, Allergy vs. intolerance or use Observation.category.  But in general, the mapping to both CAT and SCAT is going to be driven by what types of categories the study requires or needs.</comment>
      </element>
      <element name="Medical History Collection Date">
         <cdisc spec="CDASH" label="MHDAT"/>
         <cdisc spec="SDTM" label="MHDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable MHDTC in ISO 8601 format</description>
         </cdisc>
         <mapping resource="Condition" path="recordedDate">
            <path value="Condition.recordedDate"/>
         </mapping>
         <mapping resource="AdverseEvent" path="recordedDate">
            <path value="AdverseEvent.recordedDate"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="recordedDate">
            <path value="AllergyIntolerance.recordedDate"/>
         </mapping>
         <mapping resource="Observation" path="effectiveDateTime">
            <path value="Observaton.effectiveDateTime"/>
         </mapping>
      </element>
      <element name="MH Sponsor-Defined Identifier">
         <cdisc spec="CDASH" label="MHSPID"/>
         <cdisc spec="SDTM" label="MHSPID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). May be used to create RELREC to link this record with a record in another domain.</description>
         </cdisc>
         <mapping resource="Condition" path="identifier">
            <path value="Condition.identifier"/>
         </mapping>
         <mapping resource="AdverseEvent" path="identifier">
            <path value="AdverseEvent.identifier"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="identifier">
            <path value="AlergyIntolerance.identifier"/>
         </mapping>
         <mapping resource="Observation" path="identifier">
            <path value="Observation.identifier"/>
         </mapping>
         <comment>If FHIR IDs are used for RELREC, then the sponsor should evaluate its use case as necessary prior to mapping.</comment>
      </element>
      <element name="Medical History Event Date Type">
         <cdisc spec="CDASH" label="MHEVDTYP"/>
         <cdisc spec="SDTM" label="SUPPMH.QVAL">
            <description>This will generally be set to SYMPTOM ONSET for all resources, as both the onsetDateTime and effectiveDateTime are expected to represent when the symptoms first appeared, not when the diagnosis occurred.  However, there are no strict rules in FHIR about when a condition flare-up is considered to be a continuation of a prior condition and when it's a new condition.  Thus in some cases, new condition instances could spawn from net new episodes or relapes.  Spronsors may need to check for prior condition instances and based on their rules, adjust the value for this field to be EPISODE or something else in some cases.</description>
         </cdisc>
      </element>
      <element name="Reported Term for the Medical History">
         <cdisc spec="CDASH" label="MHTERM"/>
         <cdisc spec="SDTM" label="MHTERM">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code"/>
         </mapping>
      </element>
      <element name="Medical History Occurrence">
         <cdisc spec="CDASH" label="MHOCCUR"/>
         <cdisc spec="SDTM" label="MHOCCUR">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). </description>
         </cdisc>
         <mapping resource="Condition" path="verificationStatus">
            <path value="Condition.verificationStatus.where(%this IN {'refuted'|'entered-in-error'})"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="verificationStatus">
            <path value="(AllergyIntolerance.verificationStatus in {'unconfirmed'|'confirmed'|'refuted'|'entered-in-error'}).not()"/>
         </mapping>
         <mapping resource="Observation" path="effectiveDateTime">
            <path value="Observation.effectiveDateTime"/>
         </mapping>
         <comment>In general in FHIR, records of the absence of Conditions are not normally captured.  If the information revolves around "has the patient had X", that would be accomplished through a Questionnaire.Response</comment>
      </element>
      <element name="Medical History Event prespecified">
         <cdisc spec="CDASH" label="MHPRESP"/>
         <cdisc spec="SDTM" label="MHPRESP">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Not expect to receive these from the site.  How this is populated in the sponsor's database would be up to the sponsor. If available, this would need to be an extension.  The notion of pre-specified is part of the questionnaire</gap>
      </element>
      <element name="Prior Medical History Event">
         <cdisc spec="CDASH" label="MHPRIOR"/>
         <cdisc spec="SDTM" label="MHSTRTPT*">
            <description>This does not map directly to an SDTMIG variable.  May be used to populate a value into an SDTMIG relative timing variable such as MHSTRF or MHSTRTPT.  When populating MHSTRF, or MHSTRTPT if the value of the CDASH field MHPRIOR is "Y" a value from the CDISC CT (STENRF) may be used.  When MHPRIOR refers to the Study Reference Period (defined in DM.RFSTDTC to DM.RFENDTC) the SDTMIG variable MHSTRF should be populated.  When MHPRIOR is compared to another time point, the SDTMIG variables MHSTRTPT and MHSTTPT should be used.  </description>
         </cdisc>
         <cdisc spec="SDTM" label="MHSTRF*">
            <description>This does not map directly to an SDTMIG variable.  May be used to populate a value into an SDTMIG relative timing variable such as MHSTRF or MHSTRTPT.  When populating MHSTRF, or MHSTRTPT if the value of the CDASH field MHPRIOR is "Y" a value from the CDISC CT (STENRF) may be used.  When MHPRIOR refers to the Study Reference Period (defined in DM.RFSTDTC to DM.RFENDTC) the SDTMIG variable MHSTRF should be populated.  When MHPRIOR is compared to another time point, the SDTMIG variables MHSTRTPT and MHSTTPT should be used.  </description>
         </cdisc>
         <gap>This can be determined from either the onsetDateTime and/or the abatementDateTime.  If it were to be flagged on the record, it would need to be an extension on the extension that links to the study.<br/>
            <br/>The sponsor may determine this, based on an anchor point in the protocol.</gap>
      </element>
      <element name="Ongoing Medical History Event">
         <cdisc spec="CDASH" label="MHONGO"/>
         <cdisc spec="SDTM" label="MHENRF">
            <description>This does not map directly to an SDTMIG variable.  May be used to populate a value into an SDTMIG relative timing variable such as MHENRF or MHENRTPT.  When populating MHENRF, if the value of the   MHONGO  is "Y" a value of "DURING", "AFTER" or "DURING/AFTER" may be used.  When populating MHENRTPT, if the value of MHONGO is "Y", the value of "ONGOING" may be used.  When MHONGO refers to the Study Reference Period (defined in DM&gt;RFSTDTC to DM&gt;RFENDTC) the SDTMIG variable MHENRF should be populated.</description>
         </cdisc>
         <cdisc spec="SDTM" label="MHENRTPT">
            <description>This does not map directly to an SDTMIG variable.  May be used to populate a value into an SDTMIG relative timing variable such as MHENRF or MHENRTPT.  When populating MHENRF, if the value of the   MHONGO  is "Y" a value of "DURING", "AFTER" or "DURING/AFTER" may be used.  When populating MHENRTPT, if the value of MHONGO is "Y", the value of "ONGOING" may be used.  When MHONGO refers to the Study Reference Period (defined in DM&gt;RFSTDTC to DM&gt;RFENDTC) the SDTMIG variable MHENRF should be populated.</description>
         </cdisc>
         <mapping resource="Condition" path="clinicalStatus">
            <path value="Condition.clinicalStatus"/>
         </mapping>
         <mapping resource="AdverseEvent" path="outcome">
            <path value="AdverseEvent.outcome"/>
         </mapping>
      </element>
      <element name="Medical History Event Start Date">
         <cdisc spec="CDASH" label="MHSTDAT"/>
         <cdisc spec="SDTM" label="MHSTDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable MHSTDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="Condition" path="onsetDateTime">
            <path value="Condition.onset.onsetDateTime"/>
         </mapping>
         <mapping resource="AdverseEvent" path="date">
            <path value="AdverseEvent.date"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="onsetDateTime">
            <path value="AllergyIntolerance.onsetDateTime"/>
         </mapping>
         <mapping resource="Observation" path="effectiveDateTime">
            <path value="Observation.effectiveDateTime"/>
         </mapping>
      </element>
      <element name="Medical History Event End Date">
         <cdisc spec="CDASH" label="MHENDAT"/>
         <cdisc spec="SDTM" label="MHENDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset, concatenate all collected CDASH END DATE and TIME components and populate the SDTMIG variable MHENDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="Condition" path="abatementDateTime">
            <path value="Condition.abatementDateTime"/>
         </mapping>
      </element>
      <element name="Medical History Event Location">
         <cdisc spec="CDASH" label="MHLOC"/>
         <cdisc spec="SDTM" label="MHLOC*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). </description>
         </cdisc>
         <mapping resource="Condition" path="bodySite">
            <path value="Condition.bodysite"/>
         </mapping>
         <mapping resource="Condition" path="bodySite">
            <path value="AdverseEvent.resultingCondition.resolve().bodySite"/>
         </mapping>
         <mapping resource="Observation" path="bodySite">
            <path value="Observation.bodySite"/>
            <path value="Observation.specimen.resolve().collection.bodySite"/>
         </mapping>
         <mapping resource="Specimen" path="collection.bodySite">
            <path value="Observation.bodySite"/>
            <path value="Observation.specimen.resolve().collection.bodySite"/>
         </mapping>
         <comment>AllergyIntolerances are generally not associated with body sites.  </comment>
      </element>
      <element name="Medical History Event Laterality">
         <cdisc spec="CDASH" label="MHLAT"/>
         <cdisc spec="SDTM" label="MHLAT*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). </description>
         </cdisc>
         <gap>There should be a standard extension defined that allows Condition, AdverseEvent, Observation and Specimen to point to a BodyStructure.  Laterality is not relevant for allergies.  Differentiation of laterality, directionality and other location qualifiers will require knowledge of the qualifier codes and code-by-code mapping</gap>
      </element>
      <element name="Medical History Directionality">
         <cdisc spec="CDASH" label="MHDIR"/>
         <cdisc spec="SDTM" label="MHDIR*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>There should be a standard extension defined that allows Condition, AdverseEvent, Observation and Specimen to point to a BodyStructure.  Directionality is not relevant for allergies. Differentiation of laterality, directionality and other location qualifiers will require knowledge of the qualifier codes and code-by-code mapping</gap>
      </element>
      <element name="MH Event Location Portion or Totality">
         <cdisc spec="CDASH" label="MHPORTOT"/>
         <cdisc spec="SDTM" label="MHPORTOT*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>This would likely be an extension on Condition.  It is not relevant for the other resources</gap>
      </element>
      <element name="MH Modified Reported Term">
         <cdisc spec="CDASH" label="MHMODIFY"/>
         <cdisc spec="SDTM" label="MHMODIFY">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Dictionary-Derived Term">
         <cdisc spec="CDASH" label="MHDECOD"/>
         <cdisc spec="SDTM" label="MHDECOD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHDECOD).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHDECOD).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHDECOD).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHDECOD).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="Medical History Event Lowest Level Term">
         <cdisc spec="CDASH" label="MHLLT"/>
         <cdisc spec="SDTM" label="MHLLT*">
            <description>
The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHLLT).display"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHLLT).display"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHLLT).display"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHLLT).display"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event Lowest Level Term Code">
         <cdisc spec="CDASH" label="MHLLTCD"/>
         <cdisc spec="SDTM" label="MHLLTCD*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHLLT).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHLLT).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHLLT).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHLLT).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event Preferred Term Code">
         <cdisc spec="CDASH" label="MHPTCD"/>
         <cdisc spec="SDTM" label="MHPTCD*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHPT).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHPT).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHPT).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHPT).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="Medical History Event High Level Term">
         <cdisc spec="CDASH" label="MHHLT"/>
         <cdisc spec="SDTM" label="MHHLT*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.where(system=%MHHLT).display"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHHLT).display"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.where(system=%MHHLT).display"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.where(system=%MHHLT).display"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event High Level Term Code">
         <cdisc spec="CDASH" label="MHHLTCD"/>
         <cdisc spec="SDTM" label="MHHLTCD*">
            <description>The field does not typically appear on the CRF. Sponsor's will populate this through the coding  process.  This is applicable to items using MedDRA coding<br/>
               <br/>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHHLT).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHHLT).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHHLT).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHHLT).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event High Level Group Term">
         <cdisc spec="CDASH" label="MHHLGT"/>
         <cdisc spec="SDTM" label="MHHLGT*">
            <description>The field does not typically appear on the CRF. Sponsor's will populate this through the coding  process.  This is applicable to items using MedDRA coding<br/>
               <br/>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHHLG).display"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHHLG).display"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHHLG).display"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHHLG).display"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event High Level Group Term Code">
         <cdisc spec="CDASH" label="MHHLGTCD"/>
         <cdisc spec="SDTM" label="MHHLGTCD*">
            <description>The field does not typically appear on the CRF. Sponsor's will populate this through the coding  process.  This is applicable to items using MedDRA coding<br/>
               <br/>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHHLG).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHHLG).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHHLG).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHHLG).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event Primary System Organ Class">
         <cdisc spec="SDTM" label="MHSCOC*">
            <description>The field does not typically appear on the CRF. Sponsor's will populate this through the coding  process.  This is applicable to items using MedDRA coding<br/>
               <br/>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHHLG).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHHLG).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHHLG).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHHLG).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
      <element name="MH Event Primary System Organ Class Code">
         <cdisc spec="CDASH" label="MHSOCCD"/>
         <cdisc spec="SDTM" label="MHSOCCD*">
            <description>The field does not typically appear on the CRF. Sponsor's will populate this through the coding  process.  This is applicable to items using MedDRA coding<br/>
               <br/>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  The sponsor is expected to provide the dictionary name and version used to code utilizing the Define-XML external code list attributes.  Sponsors should include an Origin in the defined metadata document to indicate that the data was "ASSIGNED".</description>
         </cdisc>
         <mapping resource="Condition" path="code">
            <path value="Condition.code.coding.where(system=%MHSOC).code"/>
         </mapping>
         <mapping resource="AdverseEvent" path="event">
            <path value="AdverseEvent.event.coding.where(system=%MHSOC).code"/>
         </mapping>
         <mapping resource="AllergyIntolerance" path="code">
            <path value="AllergyIntolerance.code.coding.where(system=%MHSOC).code"/>
         </mapping>
         <mapping resource="Observation" path="code">
            <path value="Observation.code.coding.where(system=%MHSOC).code"/>
         </mapping>
         <comment>In most cases, no MedDRA codes will be present in source data and all coding levels and displays will be added by the sponsor.  However, FHIR allows multiple codings and therefore all of these codes *can* be conveyed in FHIR if the data source chooses to capture them.  Standard code system URLs should be defined for each of the MedDRA levels.  If MedDRA is considered a single code system, then the consumer will be responsible for distinguishing which codes represent which levels by looking up the received code.</comment>
      </element>
   </domain>
   <domain code="CM" name="Concomitant Medications">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="STUDYID"/>
         <cdisc spec="SDTM" label="STUDYID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=(MedicationStatement.subject|MedicationRequest.subject|MedicationDispense.subject|MedicationAdministration.subject|Immunizations.patient)).study.resolve().partOf.resolve().identifier.value"/>
            <path value="MedicationStatement.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="MedicationRequest.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="MedicationDispense.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="MedicationAdministration.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
            <path value="Immunization.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the MedicationStatement/Request/Dispense/Administration or Immunization is aware of its relevance to the Study.</comment>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="site">
            <path value="ResearchSubject.where(subject=(MedicationStatement.subject|MedicationRequest.subject|MedicationDispense.subject|MedicationAdministration.subject|Immunizations.patient)).study.resolve().identifier.value"/>
            <path value="MedicationStatement.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="MedicationRequest.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="MedicationDispense.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="MedicationAdministration.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
            <path value="Immunization.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the MedicationStatement/Request/Dispense/Administration or Immunization is aware of its relevance to the Study.    ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=(MedicationStatement.subject|MedicationRequest.subject|MedicationDispense.subject|MedicationAdministration.subject|Immunizations.patient).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the focal resource.<br/>
            <br/>No standard way to decide which subject identifier to use</comment>
      </element>
      <element name="Category for Medication">
         <cdisc spec="CDASH" label="CMCAT"/>
         <cdisc spec="SDTM" label="CMCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="category">
            <path value="MedicationStatement.category"/>
         </mapping>
         <mapping resource="MedicationRequest" path="category">
            <path value="MedicationRequest.category"/>
         </mapping>
         <mapping resource="MedicationDispense" path="category">
            <path value="MedicationDispense.category"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="category">
            <path value="MedicationAdministration.category"/>
         </mapping>
         <comment>In FHIR, an medication can be categorized in multiple ways and to the granularity  desired.  When converting from FHIR to CDASH, systems will need to look at the FHIR categories (and potentially other information) to determine how best to populate CMCAT and CMSCAT based on the study-designed categories (unless they've pre-arranged with the EHR to ensure it captures the same codes)</comment>
      </element>
      <element name="Subcategory for Medication">
         <cdisc spec="CDASH" label="CMSCAT"/>
         <cdisc spec="SDTM" label="CMSCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="category">
            <path value="MedicationStatement.category"/>
         </mapping>
         <mapping resource="MedicationRequest" path="category">
            <path value="MedicationRequest.category"/>
         </mapping>
         <mapping resource="MedicationDispense" path="category">
            <path value="MedicationDispense.category"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="category">
            <path value="MedicationAdministration.category"/>
         </mapping>
         <comment>In FHIR, an medication can be categorized in multiple ways and to the granularity  desired.  When converting from FHIR to CDASH, systems will need to look at the FHIR categories (and potentially other information) to determine how best to populate CMCAT and CMSCAT based on the study-designed categories (unless they've pre-arranged with the EHR to ensure it captures the same codes)</comment>
      </element>
      <element name="Any Concomitant Medications Taken">
         <cdisc spec="CDASH" label="CMYN"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM Annotated CRF is annotated to indicate that this field is NOT SUBMITTED.</description>
         </cdisc>
         <gap>This would be determined by dates within the protocol.  <br/>
            <br/>What constitutes a 'concomitant' drug is study-specific and would need to be evaluated on a study level.  FHIR would not normally store that information. However an extension on ResearchSubject could be utilized or could be captured in a Questionnaire.</gap>
      </element>
      <element name="CM Sponsor-Defined Identifier">
         <cdisc spec="CDASH" label="CMSPID"/>
         <cdisc spec="SDTM" label="CMSPID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  May be used to create RELREC to link this record with a record in another domain.</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="identifier">
            <path value="MedicationStatement.identifier"/>
         </mapping>
         <mapping resource="MedicationRequest" path="identifier">
            <path value="MedicationRequest.identifier"/>
         </mapping>
         <mapping resource="MedicationDispense" path="identifier">
            <path value="MedicationDispense.identifier"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="identifier">
            <path value="MedicationAdministration.identifier"/>
         </mapping>
         <mapping resource="Immunization" path="identifier">
            <path value="Immunization.identifier"/>
         </mapping>
      </element>
      <element name="Reported Name of Drug, Med, or Therapy">
         <cdisc spec="CDASH" label="CMTRT"/>
         <cdisc spec="SDTM" label="CMTRT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="medicationCodeableConcept">
            <path value="MedicationStatement.medication.medicationCodeableConcept"/>
         </mapping>
         <mapping resource="MedicationStatement" path="medicationReference">
            <path value="MedicationStatement.medication.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationRequest" path="medicationCodeableConcept">
            <path value="MedicationRequest.medication.medicationCodeableConcept"/>
         </mapping>
         <mapping resource="MedicationRequest" path="medicationReference">
            <path value="MedicationRequest.medication.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationDispense" path="medicationCodeableConcept">
            <path value="MedicationDispense.medication.medicationCodeableConcept"/>
         </mapping>
         <mapping resource="MedicationDispense" path="medicationReference">
            <path value="MedicationDispense.medication.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="medicationCodeableConcept">
            <path value="MedicationAdministration.medication.medicationCodeableConcept"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="medicationReference">
            <path value="MedicationAdministration.medication.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Immunization" path="vaccineCode">
            <path value="Immunization.vaccineCode"/>
         </mapping>
      </element>
      <element name="CM Pre-Specified">
         <cdisc spec="CDASH" label="CMPRESP"/>
         <cdisc spec="SDTM" label="CMPRESP">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Would not expect to receive from the site.
</gap>
      </element>
      <element name="CM Occurrence">
         <cdisc spec="CDASH" label="CMOCCUR"/>
         <cdisc spec="SDTM" label="CMOCCUR">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="status">
            <path value="MedicationStatement.status"/>
         </mapping>
         <mapping resource="MedicationRequest" path="doNotPerform">
            <path value="MedicationRequest.doNotPerform=true"/>
         </mapping>
         <mapping resource="MedicationRequest" path="status">
            <path value="MedicationRequest.status IN {'entered-in-error'|'cancelled'|'stopped'}"/>
         </mapping>
         <mapping resource="MedicationDispense" path="status">
            <path value="MedicationRequest.status IN {entered-in-error'|'cancelled'|'stopped'}"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="status">
            <path value="MedicationAdministration.status"/>
         </mapping>
         <mapping resource="Immunization" path="status">
            <path value="Immunization.status IN {'completed'|'entered-in-error'}"/>
         </mapping>
         <comment>In general, medication records won't exist unless the patient is taking the medication, though there is an ability to say a medication isn't currently being taken or shouldn't be taken</comment>
      </element>
      <element name="Concomitant Meds Active Ingredients">
         <cdisc spec="CDASH" label="CMINGRD"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM Annotated CRF is annotated to indicate that this field is NOT SUBMITTED.</description>
         </cdisc>
         <mapping resource="Medication" path="ingredient">
            <path value="MedicationStatement.medicationReference.resolve().ingredient.where(isActive)"/>
         </mapping>
         <mapping resource="Medication" path="ingredient">
            <path value="MedicationRequest.medicationReference.resolve().ingredient.where(isActive)"/>
         </mapping>
         <mapping resource="Medication" path="ingredient">
            <path value="MedicationDispense.medicationReference.resolve().ingredient.where(isActive)"/>
         </mapping>
         <mapping resource="Medication" path="ingredient">
            <path value="MedicationAdministration.medicationReference.resolve().ingredient.where(isActive)"/>
         </mapping>
         <mapping resource="Medication" path="ingredient">
            <path value="Immunization.medicationReference.resolve().ingredient.where(isActive)"/>
         </mapping>
      </element>
      <element name="CM Indication">
         <cdisc spec="CDASH" label="CMINDC"/>
         <cdisc spec="SDTM" label="CMINDC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="reasonCode">
            <path value="MedicationStatement.reasonCode"/>
         </mapping>
         <mapping resource="MedicationRequest" path="reasonCode">
            <path value="MedicationRequest.reasonCode"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="reasonCode">
            <path value="MedicationAdministration.reasonCode"/>
         </mapping>
         <mapping resource="Immunization" path="reasonCode">
            <path value="Immunization.reasonCode"/>
         </mapping>
      </element>
      <element name="Related Adverse Event ID">
         <cdisc spec="CDASH" label="CMAENO"/>
         <cdisc spec="SDTM">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission datasets, may be used to create RELREC to link this record with a record in the AdverseEvent domain.</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="identifier">
            <path value="AdverseEvent.where(suspectEntity.instanceReference=MedicationX).identifier"/>
         </mapping>
         <comment>This could match on AdverseEvent by code.  (Note that the AdverseEvent points to the medication record, not the reverse</comment>
      </element>
      <element name="Related Medical History Event ID">
         <cdisc spec="CDASH" label="CMMHNO"/>
         <cdisc spec="SDTM">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission datasets, may be used to create RELREC to link this record with a record in the AdverseEvent domain.</description>
         </cdisc>
         <mapping resource="Condition" path="identifier">
            <path value="MedicationStatement.reasonReference.resolve().identifier"/>
         </mapping>
         <mapping resource="Condition" path="identifier">
            <path value="MedicationRequest.reasonReference.resolve().identifier"/>
         </mapping>
         <mapping resource="Condition" path="identifier">
            <path value="MedicationAdministration.reasonReference.resolve().identifier"/>
         </mapping>
         <mapping resource="Immunization" path="identifier">
            <path value="Immunization.reasonReference.resolve().identifier"/>
         </mapping>
      </element>
      <element name="CM Dose per Administration">
         <cdisc spec="CDASH" label="CMDOSE"/>
         <cdisc spec="SDTM" label="CMDOSE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). in the column with the heading "SDTMIG Target".</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="dosage">
            <path value="MedicationStatement.dosage.doseAndRate.doseQuantity"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.doseAndRate.doseQuantity"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.doseAndRate.doseQuantity"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="dosage.dose">
            <path value="MedicationAdministration.dosage.dose"/>
         </mapping>
         <mapping resource="Immunization" path="doseQuantity">
            <path value="Immunization.doseQuantity"/>
         </mapping>
      </element>
      <element name="Concomitant Meds Dose Description">
         <cdisc spec="CDASH" label="CMDSTXT"/>
         <cdisc spec="SDTM" label="CMDOSTXT">
            <description>This does not map directly to an SDTMIG variable.  Numeric values map to CMDOSE in SDTM.  Non-numeric values (e.g., 200 - 400) map to CMDOSTXT in SDTM.</description>
         </cdisc>
         <cdisc spec="SDTM" label="CMDOSE">
            <description>This does not map directly to an SDTMIG variable.  Numeric values map to CMDOSE in SDTM.  Non-numeric values (e.g., 200 - 400) map to CMDOSTXT in SDTM.</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="dosage">
            <path value="MedicationStatement.dosage.text|MedicationStatement.dosage.maxDosePerPeriod.of"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.text"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.text"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="dosage.text">
            <path value="MedicationAdministration.dosage.text"/>
         </mapping>
         <comment>Requires combining multiple repetitions together</comment>
      </element>
      <element name="CM Total Daily Dose">
         <cdisc spec="CDASH" label="CMDOSTOT"/>
         <cdisc spec="SDTM" label="CMDOSTOT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="dosage">
            <path value="MedicationStatement.dosage.maxDosePerPeriod"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.dosage.maxDosePerPeriod"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.dosage.maxDosePerPeriod"/>
         </mapping>
         <mapping resource="Immunization" path="doseQuantity">
            <path value="Immunization.doseQuantity"/>
         </mapping>
         <comment>If Total Daily Dose is required by the sponsor, it may require collection of the drug dose and  frequency to derive the CM Total Daily Dose. </comment>
      </element>
      <element name="CM Dose Units">
         <cdisc spec="CDASH" label="CMDOSU"/>
         <cdisc spec="SDTM" label="CMDOSU">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="dosage">
            <path value="MedicationStatement.dosage.maxDosePerPeriod.code OR MedicationStatement.dosage"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.maxDosePerPeriod.code"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.maxDosePerPeriod.code"/>
         </mapping>
      </element>
      <element name="CM Dose Form">
         <cdisc spec="CDASH" label="CMDOSFRM"/>
         <cdisc spec="SDTM" label="CMDOSFRM">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Medication" path="form">
            <path value="MedicationStatement.medicationReference.resolve().form"/>
         </mapping>
         <mapping resource="Medication" path="form">
            <path value="MedicationRequest.medicationReference.resolve().form"/>
         </mapping>
         <mapping resource="Medication" path="form">
            <path value="MedicationDispense.medicationReference.resolve().form"/>
         </mapping>
      </element>
      <element name="CM Dosing Frequency per Interval">
         <cdisc spec="CDASH" label="CMDOSFRQ"/>
         <cdisc spec="SDTM" label="CMDOSFRQ">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="dosage">
            <path value="MedicationStatement.dosage.timing.frequency"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.timing.frequencey"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.timing.frequency"/>
         </mapping>
      </element>
      <element name="CM Route of Administration">
         <cdisc spec="CDASH" label="CMROUTE"/>
         <cdisc spec="SDTM" label="CMROUTE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="dosage">
            <path value="MedicationStatement.dosage.route"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.route"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.route"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="dosage.route">
            <path value="MedicationAdministration.dosage.route"/>
         </mapping>
         <mapping resource="Immunization" path="route">
            <path value="Immunization.route"/>
         </mapping>
      </element>
      <element name="Concomitant Meds Start Date">
         <cdisc spec="CDASH" label="CMSTDAT"/>
         <cdisc spec="SDTM" label="CMSTDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission datasets, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable CDSTDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="effectiveDateTime">
            <path value="MedicationStatement.effectiveDateTime"/>
         </mapping>
         <mapping resource="MedicationStatement" path="effectivePeriod">
            <path value="MedicationStatement.effectivePeriod.start"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.timing.repeat.boundsPeriod.start"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.timing.repeat.boundsPeriod.start"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceDateTime">
            <path value="Immunization.occurrenceDateTime"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceString">
            <path value="Immunization.occurrenceString"/>
         </mapping>
         <comment>Start includes both date and time, though time commonly won't be specified.  If string is specified, it will have to be parsed and converted to whatever precision is posisble</comment>
      </element>
      <element name="Concomitant Meds Start Time">
         <cdisc spec="CDASH" label="CMSTTIM"/>
         <cdisc spec="SDTM" label="CMSTDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission datasets, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable CDSTDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="effectiveDateTime">
            <path value="MedicationStatement.effectiveDateTime"/>
         </mapping>
         <mapping resource="MedicationStatement" path="effectivePeriod">
            <path value="MedicationStatement.effectivePeriod.start"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.timing.repeat.boundsPeriod.start"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.timing.repeat.boundsPeriod.start"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceDateTime">
            <path value="Immunization.occurrenceDateTime"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceString">
            <path value="Immunization.occurrenceString"/>
         </mapping>
         <comment>Start includes both date and time, though time commonly won't be specified.  If string is specified, it will have to be parsed and converted to whatever precision is posisble</comment>
      </element>
      <element name="Concomitant Meds End Date">
         <cdisc spec="CDASH" label="CMENDAT"/>
         <cdisc spec="SDTM" label="CMSTDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission datasets, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable CMSTDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="effectiveDateTime">
            <path value="MedicationStatement.effectiveDateTime"/>
         </mapping>
         <mapping resource="MedicationStatement" path="effectivePeriod">
            <path value="MedicationStatement.effectivePeriod.end"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.timing.repeat.boundsPeriod.end"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.timing.repeat.boundsPeriod.end"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceDateTime">
            <path value="Immunization.occurrenceDateTime"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceString">
            <path value="Immunization.occurrenceString"/>
         </mapping>
         <comment>End includes both date and time, though time commonly won't be specified.  If string is specified, it will have to be parsed and converted to whatever precision is posisble</comment>
      </element>
      <element name="Concomitant Meds End Time">
         <cdisc spec="CDASH" label="CMENTIM"/>
         <cdisc spec="SDTM" label="CMENDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission datasets, concatenate all collected CDASH END DATE and TIME components and populate the SDTMIG variable CMENDTC in ISO 8601 format.</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="effectiveDateTime">
            <path value="MedicationStatement.effectiveDateTime"/>
         </mapping>
         <mapping resource="MedicationStatement" path="effectivePeriod">
            <path value="MedicationStatement.effectivePeriod.end"/>
         </mapping>
         <mapping resource="MedicationRequest" path="dosageInstruction">
            <path value="MedicationRequest.dosageInstruction.timing.repeat.boundsPeriod.end"/>
         </mapping>
         <mapping resource="MedicationDispense" path="dosageInstruction">
            <path value="MedicationDispense.dosageInstruction.timing.repeat.boundsPeriod.end"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceDateTime">
            <path value="Immunization.occurrenceDateTime"/>
         </mapping>
         <mapping resource="Immunization" path="occurrenceString">
            <path value="Immunization.occurrenceString"/>
         </mapping>
         <comment>End includes both date and time, though time commonly won't be specified.  If string is specified, it will have to be parsed and converted to whatever precision is posisble</comment>
      </element>
      <element name="Prior Concomitant Meds">
         <cdisc spec="CDASH" label="CMPRIOR"/>
         <cdisc spec="SDTM" label="CMSTRF">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC1" and SUPPCM.QLABEL="ATC Level 1 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <cdisc spec="SDTM" label="CMSTRTPT">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC1" and SUPPCM.QLABEL="ATC Level 1 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>This would need to be an extension added to the study extension on the medication resource - normally it is not captured except in the context of a study (and would be a study-specific assertion)</gap>
      </element>
      <element name="Ongoing Concomitant Meds">
         <cdisc spec="CDASH" label="CMONGO"/>
         <cdisc spec="SDTM" label="CMENRF">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC1" and SUPPCM.QLABEL="ATC Level 1 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <cdisc spec="SDTM" label="CMENRTPT">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC1" and SUPPCM.QLABEL="ATC Level 1 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>This would need to be an extension added to the study extension on the medication resource - normally it is not captured except in the context of a study (and would be a study-specific assertion)</gap>
      </element>
      <element name="Standardized Medication Name">
         <cdisc spec="CDASH" label="CMDECOD"/>
         <cdisc spec="SDTM" label="CMDECOD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="medicationCodeableConcept">
            <path value="MedicationStatement.medicationCodeableConcept"/>
            <path value="MedicationStatement.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationStatement.medicationCodeableConcept"/>
            <path value="MedicationStatement.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationRequest" path="medicationCodeableConcept">
            <path value="MedicationRequest.medicationCodeableConcept"/>
            <path value="MedicationRequest.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationRequest.medicationCodeableConcept"/>
            <path value="MedicationRequest.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationDispense" path="medicationCodeableConcept">
            <path value="MedicationDispense.medicationCodeableConcept"/>
            <path value="MedicationDispense.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationDispense.medicationCodeableConcept"/>
            <path value="MedicationDispense.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="medicationCodeableConcept">
            <path value="MedicationAdministration.medicationCodeableConcept"/>
            <path value="MedicationAdministration.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationAdministration.medicationCodeableConcept"/>
            <path value="MedicationAdministration.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Immunization" path="vaccineCode">
            <path value="Immunization.vaccineCode"/>
         </mapping>
         <comment>We would not expect to receive these from the site.</comment>
      </element>
      <element name="CM Medication Class">
         <cdisc spec="CDASH" label="CMCLAS"/>
         <cdisc spec="SDTM" label="CMCLAS">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="medicationCodeableConcept">
            <path value="MedicationStatement.medicationCodeableConcept"/>
            <path value="MedicationStatement.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationStatement.medicationCodeableConcept"/>
            <path value="MedicationStatement.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationRequest" path="medicationCodeableConcept">
            <path value="MedicationRequest.medicationCodeableConcept"/>
            <path value="MedicationRequest.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationRequest.medicationCodeableConcept"/>
            <path value="MedicationRequest.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationDispense" path="medicationCodeableConcept">
            <path value="MedicationDispense.medicationCodeableConcept"/>
            <path value="MedicationDispense.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationDispense.medicationCodeableConcept"/>
            <path value="MedicationDispense.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="medicationCodeableConcept">
            <path value="MedicationAdministration.medicationCodeableConcept"/>
            <path value="MedicationAdministration.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationAdministration.medicationCodeableConcept"/>
            <path value="MedicationAdministration.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Immunization" path="vaccineCode">
            <path value="Immunization.vaccineCode"/>
         </mapping>
         <comment>These *can* be provided as alternate codings, however typically encoding is performed by the sponsor and we would not expect to receive these from the site.</comment>
      </element>
      <element name="CM Medication Class Code">
         <cdisc spec="CDASH" label="CMCLASCD"/>
         <cdisc spec="SDTM" label="CMCLASCD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="MedicationStatement" path="medicationCodeableConcept">
            <path value="MedicationStatement.medicationCodeableConcept"/>
            <path value="MedicationStatement.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationStatement.medicationCodeableConcept"/>
            <path value="MedicationStatement.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationRequest" path="medicationCodeableConcept">
            <path value="MedicationRequest.medicationCodeableConcept"/>
            <path value="MedicationRequest.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationRequest.medicationCodeableConcept"/>
            <path value="MedicationRequest.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationDispense" path="medicationCodeableConcept">
            <path value="MedicationDispense.medicationCodeableConcept"/>
            <path value="MedicationDispense.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationDispense.medicationCodeableConcept"/>
            <path value="MedicationDispense.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="MedicationAdministration" path="medicationCodeableConcept">
            <path value="MedicationAdministration.medicationCodeableConcept"/>
            <path value="MedicationAdministration.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Medication" path="code">
            <path value="MedicationAdministration.medicationCodeableConcept"/>
            <path value="MedicationAdministration.medicationReference.resolve().code"/>
         </mapping>
         <mapping resource="Immunization" path="vaccineCode">
            <path value="Immunization.vaccineCode"/>
         </mapping>
         <comment>These *can* be provided as alternate codings, however typically encoding is performed by the sponsor and we would not expect to receive these from the site.</comment>
      </element>
      <element name="ATC Level 1 Description">
         <cdisc spec="CDASH" label="CMATC1"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC1" and SUPPCM.QLABEL="ATC Level 1 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.</gap>
      </element>
      <element name="ATC Level 1 Code">
         <cdisc spec="CDASH" label="CMATC1CD"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "MATC1CD" and SUPPCM.QLABEL="ATC Level 1 Code".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.<br/>
            <br/>
All coding levels are found in the same attribute as distinct codings.  The granularity is distinguished by the code system or knowledge of the code</gap>
      </element>
      <element name="ATC Level 2 Description">
         <cdisc spec="CDASH" label="CMATC2"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC2" and SUPPCM.QLABEL="ATC Level 2 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.</gap>
      </element>
      <element name="ATC Level 2 Code">
         <cdisc spec="CDASH" label="CMATC2CD"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "MATC2CD" and SUPPCM.QLABEL="ATC Level 2 Code".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.<br/>
            <br/>All coding levels are found in the same attribute as distinct codings.  The granularity is distinguished by the code system or knowledge of the code</gap>
      </element>
      <element name="ATC Level 3 Description">
         <cdisc spec="CDASH" label="CMATC3"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC3" and SUPPCM.QLABEL="ATC Level 3 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.</gap>
      </element>
      <element name="ATC Level 3 Code">
         <cdisc spec="CDASH" label="CMATC3CD"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "MATC3CD" and SUPPCM.QLABEL="ATC Level 3 Code".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.<br/>
            <br/>All coding levels are found in the same attribute as distinct codings.  The granularity is distinguished by the code system or knowledge of the code</gap>
      </element>
      <element name="ATC Level 4 Description">
         <cdisc spec="CDASH" label="CMATC4"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC4" and SUPPCM.QLABEL="ATC Level 4 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.</gap>
      </element>
      <element name="ATC Level 4 Code">
         <cdisc spec="CDASH" label="CMATC4CD"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "MATC4CD" and SUPPCM.QLABEL="ATC Level 4 Code".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.<br/>
            <br/>
All coding levels are found in the same attribute as distinct codings.  The granularity is distinguished by the code system or knowledge of the code</gap>
      </element>
      <element name="ATC Level 5 Description">
         <cdisc spec="CDASH" label="CMATC5"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "CMATC5" and SUPPCM.QLABEL="ATC Level 5 Description".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.</gap>
      </element>
      <element name="ATC Level 5 Code">
         <cdisc spec="CDASH" label="CMATC5CD"/>
         <cdisc spec="SDTM" label="SUPPCM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPCM dataset as the value of SUPPCM.QVAL where SUPPCM.QNAM= "MATC5CD" and SUPPCM.QLABEL="ATC Level 5 Code".  Sponsors should include an Origin column in the SUPPQ dataset to indicate that the data was "ASSIGNED". </description>
         </cdisc>
         <gap>Encoding is performed by the sponsor and we would not expect to receive these from the site.<br/>
            <br/>
All coding levels are found in the same attribute as distinct codings.  The granularity is distinguished by the code system or knowledge of the code</gap>
      </element>
   </domain>
   <domain code="PR" name="Procedure">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="STUDYID"/>
         <cdisc spec="SDTM" label="STUDYID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().partOf.resolve().identifier.value"/>
            <path value="Procedure.extension(workflow-researchstudy).valueReference.resolve().partOf.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.    ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="site">
            <path value="ResearchSubject.where(subject=Observation.subject).study.resolve().identifier.value"/>
            <path value="Procedure.extension(workflow-researchstudy).valueReference.resolve().identifier.value"/>
         </mapping>
         <comment>Mapping is based on presumption that research subject will be tied to site-specific ResearchStudy, which will then be part of overall ResearchStudy.<br/>
            <br/>The path using the extension will only exist if the system maintaining the Observation is aware of its relevance to the Study.   ResearchStudy links to Patient. Observation links to Patient. If the patients are the same, that establishes the linkage. There's also an extension that allows direct linkage to a 'study' from any resource - if the source system has actually established such a linkage.</comment>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=Procedure.subject).identifier.value"/>
         </mapping>
         <comment>Study subject is found by finding the StudySubject that corresponds to the same Patient and ResearchStudy as the Procedure.<br/>
            <br/>No standard way to decide which subject identifier to use</comment>
      </element>
      <element name="Any Procedures Performed">
         <cdisc spec="CDASH" label="PRYN"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM aCRF is annotated to indicate that this field is NOT SUBMITTED</description>
         </cdisc>
         <gap>In FHIR, this would be determined by searching for Procedures with a given subject (possibly also filtered by research study) and excluding those that were entered in error. It might also be necessary to search for education, massage, cognitive therapy and various other data to determine all procedures.</gap>
      </element>
      <element name="Procedure Category">
         <cdisc spec="CDASH" label="PRCAT"/>
         <cdisc spec="SDTM" label="PRCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="category">
            <path value="Procedure.category"/>
         </mapping>
         <comment>FHIR doesn't have 2 distinct category levels. The option exists to have as many categorizations with whatever axes and granularities needed or desired.  When mapping data to a particular study, it would be necessary to decide what category values best correspond to CAT vs. SCAT.  A standard extension will be needed to convey multiple repetitions in R4.  (Procedure.category does repeat in the draft of R5) The SNOMED binding is an example, which means that any codes can be used. Even if the binding were stronger, alternate codes would be possible on other repetitions.</comment>
      </element>
      <element name="Procedure Subcategory">
         <cdisc spec="CDASH" label="PRSCAT"/>
         <cdisc spec="SDTM" label="PRSCAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="category">
            <path value="Procedure.category"/>
         </mapping>
         <comment>FHIR doesn't have 2 distinct category levels.  Instead, Procedure.category repeats.  The option exists to have as many categorizations with whatever axes and granularities needed or desired.  When mapping data to a particular study, it would be necessary to decide what category values best correspond to CAT vs. SCAT.</comment>
      </element>
      <element name="Procedure Sponsor-Defined Identifier">
         <cdisc spec="CDASH" label="PRSPID"/>
         <cdisc spec="SDTM" label="PRSPID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="identifier">
            <path value="Procedure.identifier"/>
         </mapping>
      </element>
      <element name="Reported Name of Procedure">
         <cdisc spec="CDASH" label="PRTRT"/>
         <cdisc spec="SDTM" label="PRTRT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code.coding.display; Procedure.code.text"/>
         </mapping>
         <comment>The name as expressed by or displayed to the user goes in code.text.  The name associated with the selected code goes in code.coding.display.</comment>
      </element>
      <element name="Standardized Procedure Name">
         <cdisc spec="CDASH" label="PRDECOD"/>
         <cdisc spec="SDTM" label="PRDECOD">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Translation of the source-system-determined procedure code to the study-defined value set may need to be performed by the sponsor.<br/>
            <br/>PRDECOD is the dictionary or the sponsor-defined standardized text description of PRTRT, or the modified topic variable (PRMODIFY), if applicable.  This means it is the standardized term for the procedure. </comment>
      </element>
      <element name="Modified Procedure Name">
         <cdisc spec="CDASH" label="PRMODIFY"/>
         <cdisc spec="SDTM" label="PRMODIFY*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Coding translations are conducted by the sponsor.<br/>
            <br/>In FHIR, there's no need to modify the PRTERM.  The text which was actually saw/typed (errors and all) is present and the various codes encoding it and the display names for those codes.  If there was a need to capture a corrected text that was submitted to a post-coding process, that would be an extension</gap>
      </element>
      <element name="Procedure prespecified">
         <cdisc spec="CDASH" label="PRPRESP"/>
         <cdisc spec="SDTM" label="PRPRESP">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>This likely to be a Questionnaire question than something that would directly be captured in a record.
This could possibly be an extension on the Procedure/MedicationAdministration/MedicationStatement.</gap>
      </element>
      <element name="Procedure Occurrence">
         <cdisc spec="CDASH" label="PROCCUR"/>
         <cdisc spec="SDTM" label="PROCCUR">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).  If the response was not asked or answered, populate the SDTMIG variable PRSTAT with "NOT DONE"</description>
         </cdisc>
         <mapping resource="Procedure" path="status">
            <path value="Procedure.status"/>
         </mapping>
         <comment>
Coding translations are left to the sponsor.<br/>
            <br/>Status of 'not-done', 'entered-in-error' would indicate that it didn't happen, 'active', 'in-progress', 'on-hold', 'completed' would indicate that it did.  'stopped' would indicate that it started, but was abnormally terminated - where that should go depends on the study's definition of 'occur'.</comment>
      </element>
      <element name="Procedure Reason for Occur Value">
         <cdisc spec="CDASH" label="PRREASOC"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRREASOC" and SUPPPR.QLABEL = "Reason for Occur Value".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable I SDTM domains.</description>
         </cdisc>
         <mapping resource="Procedure" path="reasonCode">
            <path value="Procedure.reasonCode"/>
         </mapping>
         <mapping resource="Procedure" path="reasonReference">
            <path value="Procedure.reasonReference"/>
         </mapping>
         <mapping resource="Procedure" path="statusReason">
            <path value="Procedure.statusReason"/>
         </mapping>
         <comment>Note that reasonReference would need to be turned into a code or string.  Reason[x] indicates reason for doing the procedure; statusReason when status=not-done would be reason for non-occurrence</comment>
      </element>
      <element name="Procedure Reason Not Done">
         <cdisc spec="CDASH" label="PRREASND"/>
         <cdisc spec="SDTM" label="PRREASND*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="statusReason">
            <path value="Procedure.statusReason.where(%resource.status IN {'not-done'| 'stopped'})"/>
         </mapping>
      </element>
      <element name="Prior Procedure">
         <cdisc spec="CDASH" label="PRPRIOR"/>
         <cdisc spec="SDTM" label="PRSTRTPT">
            <description>This does not map directly to an SDTMIG variable.  May be used to populate a value into an SDTM relative timing variable such as PRSTRF or PRSTRTPT.  When populating PRSTRF, or PRSTRTPT, if the value of the CDASH field PRPRIOR is "Y" a value from the CDISC CT (STENRF) may be used.  </description>
         </cdisc>
         <cdisc spec="SDTM" label="PRSTRF*">
            <description>This does not map directly to an SDTMIG variable.  May be used to populate a value into an SDTM relative timing variable such as PRSTRF or PRSTRTPT.  When populating PRSTRF, or PRSTRTPT, if the value of the CDASH field PRPRIOR is "Y" a value from the CDISC CT (STENRF) may be used.  </description>
         </cdisc>
         <mapping resource="Procedure" path="performedDateTime">
            <path value="Procedure.performedDateTime.extension('cqf-relativeDateTime').extension(relationship).valueCode"/>
         </mapping>
         <comment>Typically, this extension won't exist, or won't be expressed relative to the subjects participation in the study.  In such cases, the value for this element will need to be derived by the sponsor through comparision of procedure dates with study participation dates.  If available, then the codes 'before-start' and 'before' map to 'true' and the rest map to false.</comment>
      </element>
      <element name="Procedure Start Date">
         <cdisc spec="CDASH" label="PRSTDAT"/>
         <cdisc spec="SDTM" label="PRSTDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset, concatenate all collected CDASH START DATE and TIME components and populate the SDTMIG variable PRSTDTC in ISO 8601 format</description>
         </cdisc>
         <mapping resource="Procedure" path="performedDateTime">
            <path value="Procedure.performedDateTime"/>
         </mapping>
         <mapping resource="Procedure" path="performedPeriod">
            <path value="Procedure.performedPeriod.start"/>
         </mapping>
         <mapping resource="Procedure" path="performedRange">
            <path value="Procedure.performedRange.low"/>
         </mapping>
         <comment>FHIR also allows performedString, but there is no way to map that to CDISC.  The performedRange mapping is imprecise because it indicates imprecision around the performance rather than a specific start time.</comment>
      </element>
      <element name="Ongoing Procedure">
         <cdisc spec="CDASH" label="PRONGO"/>
         <cdisc spec="SDTM" label="PRENRTPT">
            <description>This does not map directly to an SDTM variable.  May be used to populate a value into an SDTMIG relative timing variable such as PRENRF or PRENRTPT.  When populating PRENRF, if the value of PRONGO is "Y", the value of "DURING", "AFTER" or "DURING/AFTER" may be used.  When populating PRENRTPT, if the value of PRONGO is "Y", the value of "ONGOING" may be used.  When PRONGO refers to the Study Reference Period (defined in DM.RFSTDTC to DM.RFENDTC) the SDTM variable PRENRF should be populated.  When PRONGO is used in conjunction with another time point, the SDTM variable PRENRRPT and PRENTPT should be used</description>
         </cdisc>
         <cdisc spec="SDTM" label="PRENRF*">
            <description>This does not map directly to an SDTM variable.  May be used to populate a value into an SDTMIG relative timing variable such as PRENRF or PRENRTPT.  When populating PRENRF, if the value of PRONGO is "Y", the value of "DURING", "AFTER" or "DURING/AFTER" may be used.  When populating PRENRTPT, if the value of PRONGO is "Y", the value of "ONGOING" may be used.  When PRONGO refers to the Study Reference Period (defined in DM.RFSTDTC to DM.RFENDTC) the SDTM variable PRENRF should be populated.  When PRONGO is used in conjunction with another time point, the SDTM variable PRENRRPT and PRENTPT should be used</description>
         </cdisc>
         <mapping resource="Procedure" path="status">
            <path value="Procedure.status"/>
         </mapping>
         <comment>This supports the necessity of separating procedures and medication.<br/>
            <br/>An example of ongoing procedure, "hemodialysis with frequency of three times a week".   If the status is 'in-progress'/'active', then it's ongoing.</comment>
      </element>
      <element name="Procedure End Date">
         <cdisc spec="CDASH" label="PRENDAT"/>
         <cdisc spec="SDTM" label="PRENDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset, concatenate all collected CDASH END DATE and TIME components and populate the SDTMIG variable PRSTDTC in ISO 8601 format</description>
         </cdisc>
         <mapping resource="Procedure" path="performedDateTime">
            <path value="Procedure.performedDateTime"/>
         </mapping>
         <mapping resource="Procedure" path="performedPeriod">
            <path value="Procedure.performedPeriod.end"/>
         </mapping>
         <mapping resource="Procedure" path="performedRange">
            <path value="Procedure.performedRange.high"/>
         </mapping>
         <comment>FHIR also allows performedString, but there is no way to map that to CDISC. The performedRange mapping is imprecise because it indicates imprecision around the performance rather than a specific end time.</comment>
      </element>
      <element name="Procedure Indication">
         <cdisc spec="CDASH" label="PRINDC"/>
         <cdisc spec="SDTM" label="PRINDC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="reasonCode">
            <path value="Procedure.reasonCode"/>
         </mapping>
         <mapping resource="Procedure" path="reasonReference">
            <path value="Procedure.reasonReference"/>
         </mapping>
         <comment>Note that reasonReference would need to be turned into a code or string. </comment>
      </element>
      <element name="Related Adverse Event ID">
         <cdisc spec="CDASH" label="PRAENO"/>
         <cdisc spec="SDTM">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission dataset, concatenate all collected CDASH END DATE and TIME components and populate the SDTMIG variable PRSTDTC in ISO 8601 format</description>
         </cdisc>
         <mapping resource="AdverseEvent" path="identifier">
            <path value="Procedure.reasonReference.resolve().where(type='AdverseEvent').identifier"/>
         </mapping>
      </element>
      <element name="Related Medical History Event ID">
         <cdisc spec="CDASH" label="PRMHNO"/>
         <cdisc spec="SDTM">
            <description>This does not map directly to an SDTMIG variable.  For SDTM submission datasets, may be used to create RELREC to link this record with a record in the eMedical History domain.</description>
         </cdisc>
         <gap>If FHIR IDs are used for RELREC, then the sponsor should evaluate its use case as necessary prior to mapping.</gap>
      </element>
      <element name="Dose Description">
         <cdisc spec="SDTM" label="PRDOSTXT"/>
         <gap>If FHIR IDs are used for RELREC, then the sponsor should evaluate its use case as necessary prior to mapping.</gap>
      </element>
      <element name="Procedure Dose Unit">
         <cdisc spec="CDASH" label="PRDOSU"/>
         <cdisc spec="SDTM" label="PRDOSU">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>If FHIR IDs are used for RELREC, then the sponsor should evaluate its use case as necessary prior to mapping.</gap>
      </element>
      <element name="Procedure Frequency per Interval">
         <cdisc spec="CDASH" label="PRDOSFRQ"/>
         <mapping resource="Procedure" path="extension">
            <path value="Procedure.extension('R5/occurrenceTiming').repeat.frequency"/>
         </mapping>
      </element>
      <element name="Procedure Route of Administration">
         <cdisc spec="CDASH" label="PRROUTE"/>
         <cdisc spec="SDTM" label="PRROUTE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>This is a known gap. Procedure Route of Administration interval does NOT exist for 'Procedure'. </gap>
      </element>
      <element name="Location of Procedure">
         <cdisc spec="CDASH" label="PRLOC"/>
         <cdisc spec="SDTM" label="PRLOC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="Procedure" path="bodySite">
            <path value="Procedure.bodySite"/>
         </mapping>
      </element>
      <element name="Procedure Laterality">
         <cdisc spec="CDASH" label="PRLAT"/>
         <cdisc spec="SDTM" label="PRLAT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="BodyStructure" path="locationQualifier">
            <path value="Procedure.extension(procedure-targetBodyStructure).valueReference.resolve().locationQualifier"/>
         </mapping>
         <comment>This is frequently pre-coordinated into Procedure.bodySite.  Multiple qualifiers are possible.  Laterality will need to be recognized by code and/or system</comment>
      </element>
      <element name="Procedure Directionality">
         <cdisc spec="CDASH" label="PRDIR"/>
         <cdisc spec="SDTM" label="PRDIR">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <mapping resource="BodyStructure" path="locationQualifier">
            <path value="Procedure.extension(procedure-targetBodyStructure).valueReference.resolve().locationQualifier"/>
         </mapping>
         <comment>This is frequently pre-coordinated into Procedure.bodySite.  Multiple qualifiers are possible.  Directionality will need to be recognized by code and/or system</comment>
      </element>
      <element name="Procedure Portion or Totality">
         <cdisc spec="CDASH" label="PRPORTOT"/>
         <cdisc spec="SDTM" label="PRPORTOT">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Typically this would be pre-coordinated into Procedure.code and would be captured in dosage instructions text for medications.  If captured as a separate element, if would need to be an extension.</gap>
      </element>
      <element name="Procedure Fasting Status">
         <cdisc spec="CDASH" label="PRFAST"/>
         <cdisc spec="SDTM" label="PRFAST*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>This would be handled as an extension. Could propose as standard extension.</gap>
      </element>
      <element name="Procedure Intended Dose Regimen">
         <cdisc spec="CDASH" label="PRDOSRGM"/>
         <cdisc spec="SDTM" label="PRDOSRGM">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>An administration could be based on more than one thing (recommendation, plan, order) and in theory the intended dose would be different for each.</gap>
      </element>
      <element name="Procedure Adjusted">
         <cdisc spec="CDASH" label="PRDOSADJ"/>
         <cdisc spec="SDTM">
            <description>When PRDOSADJ is collected, does not map to an SDTMIG variable.  The SDTM Annotated CRF is annotated to indicate that this field is NOT SUBMITTED&gt;  When PRADJ is to collected, the sponsor may suit this variable as a SUPPQ.</description>
         </cdisc>
         <gap>This would be handled as an extension.  Would appear on Procedure/MedicationAdministration/MedicationStatement.basedOn.
Might consider proposing it as a standard extension.</gap>
      </element>
      <element name="Reason for Procedure Adjustment">
         <cdisc spec="CDASH" label="PRADJ"/>
         <cdisc spec="SDTM" label="PRADJ*">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>This would be handled as an extension.  Would appear on Procedure/MedicationAdministration/MedicationStatement.basedOn.
Might consider proposing it as a standard extension.</gap>
      </element>
      <element name="Completed Procedure">
         <cdisc spec="CDASH" label="PRTRTCMP"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This does not map, directly to an SDTMIG variable.  This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRTRTCMP" and SUPPPR.QLABEL = "Treatment Completed". </description>
         </cdisc>
         <gap>Not all potential mapping/FHIR resources/attributes will be addressed in this implementation guide.  All data requires review and analysis to ensure the data is relevant and understood.
</gap>
      </element>
      <element name="Procedure Interrupted">
         <cdisc spec="CDASH" label="PRITRPYN"/>
         <cdisc spec="SDTM">
            <description>Does not map to an SDTMIG variable.  The SDTM a CRF is annotated to indicate that this field is NOT SUBMITTED.</description>
         </cdisc>
         <mapping resource="Procedure" path="status">
            <path value="Procedure.status"/>
         </mapping>
         <comment>If something is currently interrupted, the status would either be on-hold or stopped.  If there was a temporary interruption and the procedure has since resumed or completed, the only way to detect the interruption would be an extension or to review the history.</comment>
      </element>
      <element name="Reason Procedure Interrupted">
         <cdisc spec="CDASH" label="PRITRPRS"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRITRPRS" and SUPPPR.QLABEL = "Reason intervention Interrupted".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable.</description>
         </cdisc>
         <mapping resource="Procedure" path="statusReason">
            <path value="Procedure.statusReason"/>
         </mapping>
         <comment>If the status is on-hold or stopped, statusReason would convey the reason.  If there was a temporary interruption and the procedure has since resumed or completed, the only way to detect the interruption would be an extension or to review the history.</comment>
      </element>
      <element name="Procedure Interruption Duration">
         <cdisc spec="CDASH" label="PRCINTD"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRCINTD" and SUPPPR.QLABEL = "Intervention Duration".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable.</description>
         </cdisc>
         <gap>This would have to be an extension.  Typically, you'd just look at history to see when something was suspended, then resumed.</gap>
      </element>
      <element name="Procedure Interruption Duration Units">
         <cdisc spec="CDASH" label="PRCINTDU"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPPR dataset as the value of SPPPR.QVAL where SUPPPR.QNAM = "PRITRPD" and SUPPPR.QLABEL = "Interruption Duration".  Concatenate the collected procedure interruption duration and the duration unit components and create PRITRPD using ISO 8601.</description>
         </cdisc>
         <gap>This would have to be part of the previous extension.  Typically, reviewing the history of the procedure will indicate if it was suspended and then resumed.  </gap>
      </element>
      <element name="Procedure Lowest Level Term">
         <cdisc spec="CDASH" label="PRLLT"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRLLT" and SUPPPR.QLABEL = "Lower Level Term".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable.</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR. <br/>
            <br/>Procedure.code can contain  many codings and at various levels of granularity.  Granularity will be determined by reviewing the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="Procedure Lowest Level Term Code">
         <cdisc spec="CDASH" label="PRLLTCD"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRLLTCD" and SUPPPR.QLABEL = "Lower Level Term Code".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable.</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Translation of Procedure.code to MeDRA will typically be performed by the sponsor and not provided in FHIR soure data. <br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities)   Note: Not clear how many of these would be populated for a procedure.</comment>
      </element>
      <element name="Procedure Preferred Term Code">
         <cdisc spec="CDASH" label="PRPTCD"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRPTCD" and SUPPPR.QLABEL = "Preferred Term Code Lower Level Term Code".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable.</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR. <br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="Procedure High Level Term">
         <cdisc spec="CDASH" label="PRHLT"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This information could be submitted in a SUPPPR dataset as the value of SUPPPR.QVAL where SUPPPR.QNAM = "PRHLT" and SUPPPR.QLABEL = "High Level Term".  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variable.</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR. <br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="Procedure High Level Term Code">
         <cdisc spec="CDASH" label="PRHLTCD"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This is not a data collection field that would appear on the CRF.  Sponsors will populate this through the coding process.  This is applicable to items using the MedDRA coding dictionary.  Rationale for adding coding variable to CDASH is to provide a more complete data management package.  This variable could be used in the PR domain for MedDRA coding.  Other dictionaries can be used and the appropriate coding elements added.  if appropriate, in the SUPPPR.QVAL dataset</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR. <br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="Procedure High Level Group Term">
         <cdisc spec="CDASH" label="PRHLGT"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This is not a data collection field that would appear on the CRF.  Sponsors will populate this through the coding process.  This is applicable to items using the MedDRA coding dictionary.  Rationale for adding coding variable to CDASH is to provide a more complete data management package.  This variable could be used in the PR domain for MedDRA coding.  Other dictionaries can be used and the appropriate coding elements added.  if appropriate, in the SUPPPR.QVAL dataset</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR.<br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="Procedure High Level Group Term Code">
         <cdisc spec="CDASH" label="PRHLGTCD"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This is not a data collection field that would appear on the CRF.  Sponsors will populate this through the coding process.  This is applicable to items using the MedDRA coding dictionary.  Rationale for adding coding variable to CDASH is to provide a more complete data management package.  This variable could be used in the PR domain for MedDRA coding.  Other dictionaries can be used and the appropriate coding elements added.  if appropriate, in the SUPPPR.QVAL dataset</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR. <br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="PR Primary System Organ Class">
         <cdisc spec="CDASH" label="PRSOC"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This is not a data collection field that would appear on the CRF.  Sponsors will populate this through the coding process.  This is applicable to items using the MedDRA coding dictionary.  Rationale for adding coding variable to CDASH is to provide a more complete data management package.  This variable could be used in the PR domain for MedDRA coding.  Other dictionaries can be used and the appropriate coding elements added.  if appropriate, in the SUPPPR.QVAL dataset</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR.<br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
      <element name="PR Primary System Organ Class Code">
         <cdisc spec="CDASH" label="PRSOCCD"/>
         <cdisc spec="SDTM" label="SUPPPR.QVAL">
            <description>This is not a data collection field that would appear on the CRF.  Sponsors will populate this through the coding process.  This is applicable to items using the MedDRA coding dictionary.  Rationale for adding coding variable to CDASH is to provide a more complete data management package.  This variable could be used in the PR domain for MedDRA coding.  Other dictionaries can be used and the appropriate coding elements added.  if appropriate, in the SUPPPR.QVAL dataset</description>
         </cdisc>
         <mapping resource="Procedure" path="code">
            <path value="Procedure.code"/>
         </mapping>
         <comment>Procedure Code is performed by the sponsor - not expected to receive this from the site or FHIR. <br/>
            <br/>Procedure.code can contain as many codings as you like at whatever granularity you like.  You would distinguish what granularity it was by looking at the code system and/or having knowledge of the codes within the same code system (where one code system can express content at multiple granularities).</comment>
      </element>
   </domain>
   <domain code="DM" name="Demographics">
      <element name="Study Identifier">
         <cdisc spec="CDASH" label="STUDYID"/>
         <cdisc spec="SDTM" label="STUDYID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). I the column with the heading SDTMIG Target.</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Patient).study.resolve().partOf.resolve().identifier"/>
         </mapping>
      </element>
      <element name="Study Site Identifier">
         <cdisc spec="CDASH" label="SITEID"/>
         <cdisc spec="SDTM" label="DM.SITEID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). I the column with the heading SDTMIG Target.</description>
         </cdisc>
         <mapping resource="ResearchStudy" path="identifier">
            <path value="ResearchSubject.where(subject=Patient.identifier.study.resolve().identifier.value"/>
         </mapping>
      </element>
      <element name="Subject Identifier for the Study">
         <cdisc spec="CDASH" label="SUBJID"/>
         <cdisc spec="SDTM" label="DM.SUBJID">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s). I the column with the heading SDTMIG Target.</description>
         </cdisc>
         <mapping resource="ResearchSubject" path="identifier">
            <path value="ResearchSubject.where(individual=Patient.identifier).identifier.value"/>
         </mapping>
      </element>
      <element name="Birth Date">
         <cdisc spec="CDASH" label="BRTHDAT"/>
         <cdisc spec="SDTM" label="BRTHDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission data set, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable BRTHDTC in ISO 860 format.</description>
         </cdisc>
         <mapping resource="Patient" path="birthDate">
            <path value="Patient.birthDate"/>
         </mapping>
         <comment>There is potential where the birth date can not be collected due to country regulations.  In those cases an estimated age may be entered.<br/>
            <br/>Birth time is captured as a standard extension</comment>
      </element>
      <element name="Birth Day">
         <cdisc spec="CDASH" label="BRTHDD"/>
         <cdisc spec="SDTM" label="BRTHDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission data set, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable BRTHDTC in ISO 860 format.</description>
         </cdisc>
         <mapping resource="Patient" path="birthDate">
            <path value="Patient.birthDate.substring(8,4)"/>
         </mapping>
      </element>
      <element name="Birth Month">
         <cdisc spec="CDASH" label="BRTHMO"/>
         <cdisc spec="SDTM" label="BRTHDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission data set, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable BRTHDTC in ISO 860 format.</description>
         </cdisc>
         <mapping resource="Patient" path="birthDate">
            <path value="Patient.birthDate.substring(5,2)"/>
         </mapping>
      </element>
      <element name="Birth Year">
         <cdisc spec="CDASH" label="BRTHYY"/>
         <cdisc spec="SDTM" label="BRTHDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission data set, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable BRTHDTC in ISO 860 format.</description>
         </cdisc>
         <mapping resource="Patient" path="birthDate">
            <path value="Patient.birthDate.substring(0,4)"/>
         </mapping>
      </element>
      <element name="Birth Time">
         <cdisc spec="CDASH" label="BRTHTIM"/>
         <cdisc spec="SDTM" label="BRTHDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission data set, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable BRTHDTC in ISO 860 format.</description>
         </cdisc>
         <mapping resource="Patient" path="extension">
            <path value="Patient.extension(patient-birthTime).valueTime"/>
         </mapping>
      </element>
      <element name="Age">
         <cdisc spec="CDASH" label="AGE"/>
         <cdisc spec="SDTM" label="AGE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>There is potential where the birth date can not be collected due to country regulations.<br/>
            <br/>Age can be captured either through additional filters, additional transformation, or occasionally looking for information in alternate loacations such as an Observation as a point-in-time assessment, but generally this is simply calculated from birthDate.   Specifically, relevant clinical trial documentation will have expectations around units, other code systems and data consistency that may not be met by RWD and conversion and mapping may be necessary.</gap>
      </element>
      <element name="Age Units">
         <cdisc spec="CDASH" label="AGEU"/>
         <cdisc spec="SDTM" label="AGEU">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Age can be captured as an Observation as a point-in-time assessment, but generally this is simply calculated from birthDate.</gap>
      </element>
      <element name="Demographics Collection Date">
         <cdisc spec="CDASH" label="DMDAT"/>
         <cdisc spec="SDTM" label="DMDTC">
            <description>This does not map directly to an SDTMIG variable.  For the SDTM submission data set, concatenate all collected CDASH DATE and TIME components and populate the SDTMIG variable BRTHDTC in ISO 860 format.</description>
         </cdisc>
         <mapping resource="Patient" path="meta">
            <path value="Patient.meta.lastUpdated"/>
         </mapping>
         <comment><br/>
            <br/>This indicates when the Patient resource was last changed, but in practice different pieces of demographics are collected at different times.  Review will be required of the history of the patient resource to determine when any particular fact was first asserted.</comment>
      </element>
      <element name="Sex">
         <cdisc spec="CDASH" label="SEX"/>
         <cdisc spec="SDTM" label="SEX">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>Sex and gender are multi-faceted.concepts. Both FHIR and CDISC standards have a large degree of ambiguity in their definitions for their primary data elements describing a subjects sex or gender (DM.SEX and Patient.gender).  This ambiguity often exists in original source systems. Depending on the use case, the Various facets of sex and gender may be utilized or captured within clinical data..  - physiologic, social, chromosomal, etc.  As such, it's not advisable to indicate a mapping where all the facets of sex and gender are ambiguous in both the source and study data standards.  Study sponsors and regulators will need to establish policies and look into the quality and nature of the source data as well as the analysis that needs to be performed to determine appropriate mappings. <br/>
            <br/>Extensions such as US core "birth sex" and FHIR core "gender identity" may give more semanticly consistent values, but may not be widely populated   Some gender concepts such as physiologic and genetic characteristics may be captured as Observation values rather than as demographics elements on Patient</gap>
      </element>
      <element name="Ethnicity">
         <cdisc spec="CDASH" label="ETHNIC"/>
         <cdisc spec="SDTM" label="ETHNIC">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>There's a U.S. Core extension (https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-ethnicity.html) for this to capture ethnicity as required by U.S. legislation.  It captures two distinct granularities as well as free text.  Depending on the study, the higher or lower granularity might map to ETHNIC and the lower or free text could map to CETHNIC.  Other countries use vastly different value sets or prohibit collection.  If captured for clinical rather than administrative purposes, this would be an Observation</gap>
      </element>
      <element name="Collected Ethnicity">
         <cdisc spec="CDASH" label="CETHNIC"/>
         <cdisc spec="SDTM" label="SUPPDM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPDM dataset as the value of SUPPDM.QVAL where SUPPDM.QNAM = "CETHIC" and SUPPDM.QLABEL = "Collected Ethnicity" See SDTMIG v3.2 Section 5, DM Domain.  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variables in SDTM domains.</description>
         </cdisc>
         <gap>There's a U.S. Core extension (https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-ethnicity.html) for this to capture ethnicity as required by U.S. legislation.  It captures two distinct granularities as well as free text.  Depending on the study, the higher or lower granularity might map to ETHNIC and the lower or free text could map to CETHNIC.  Other countries use vastly different value sets or prohibit collection.  If captured for clinical rather than administrative purposes, this would be an Observation</gap>
      </element>
      <element name="Race">
         <cdisc spec="CDASH" label="RACE"/>
         <cdisc spec="SDTM" label="RACE">
            <description>The corresponding CDASH Variable(s) map directly to identified SDTM Variable(s).</description>
         </cdisc>
         <gap>There's a U.S. Core extension (https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-race.html) for this to capture race as required by U.S. legislation.  In theory, the OMBRace could map to RACE, 'detailed' could map to CRACE and 'text' could map to RACEOTH.  However, how appropriate these mappings would be would depend on the study requirements.<br/>
            <br/>Please note: the extension may or may not correspond to the sponsor's requirements and the extension can actually capture race information in 3 different ways, so further mapping would be needed.   Other countries use vastly different value sets or prohibit collection.  If captured for clinical rather than administrative purposes, this would be an Observation</gap>
      </element>
      <element name="Collected Race">
         <cdisc spec="CDASH" label="CRACE"/>
         <cdisc spec="SDTM" label="SUPPDM.QVAL">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPDM dataset as the value of SUPPDM.QVAL where SUPPDM.QNAM = "CRACE" and SUPPDM.QLABEL = "Collected Race" See SDTMIG v3.2 Section 5, DM Domain.  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variables in SDTM domains.</description>
         </cdisc>
         <gap>There's a U.S. Core extension (https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-race.html) for this to capture race as required by U.S. legislation.  In theory, the OMBRace could map to RACE, 'detailed' could map to CRACE and 'text' could map to RACEOTH.  However, how appropriate these mappings would be would depend on the study requirements.<br/>
            <br/>Other countries use vastly different value sets or prohibit collection.  If captured for clinical rather than administrative purposes, this would be an Observation</gap>
      </element>
      <element name="Race Other">
         <cdisc spec="CDASH" label="RACEOTH"/>
         <cdisc spec="SDTM">
            <description>This does not map directly to an SDTMIG variable.  This information could be submitted in a SUPPDM dataset as the value of SUPPDM.QVAL where SUPPDM.QNAM = "RACEOTHER" and SUPPDM.QLABEL = "RACE OTHER" See SDTMIG v3.2 Section 5, DM Domain.  Refer to the current SDTM and SDTMIG for instructions on placement of non-standard variables in SDTM domains.</description>
         </cdisc>
         <gap>There's a U.S. Core extension (https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-race.html) for this to capture race as required by U.S. legislation.  In theory, the OMBRace could map to RACE, 'detailed' could map to CRACE and 'text' could map to RACEOTH.  However, how appropriate these mappings would be would depend on the study requirements.<br/>
            <br/>Other countries use vastly different value sets or prohibit collection.  If captured for clinical rather than administrative purposes, this would be an Observation</gap>
      </element>
   </domain>
</mappings>
